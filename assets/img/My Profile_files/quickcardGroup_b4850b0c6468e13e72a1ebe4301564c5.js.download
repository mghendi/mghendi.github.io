/*
 !! BEGIN /ui/quickcard/js/quickcardInternal.js !!! !! BEGIN /ui/quickcard/js/quickcardAddNote.js !!! !! BEGIN /ui/quickcard/js/quickcardPersonInfo.js !!! !! BEGIN /ui/quickcard/js/quickcardEmploymentInfo.js !!! !! BEGIN /ui/quickcard/js/quickcardPersonInfoWithEmployment.js !!! !! BEGIN /ui/quickcard/js/quickcardAddUserBadge.js !!! !! BEGIN /ui/quickcard/js/quickcardActions.js !!! !! BEGIN /ui/quickcard/js/quickcardPrintTalentCard.js !!!*/
(function(){function a(c,a){juic.assert(c===b,"Please use QuickcardInternal.newInstance() to create Quickcard.");this.register();this._init(a)}var b={};window.Quickcard?window.Quickcard.QuickcardInternal=a:window.DEPS_VERSION_MAP&&window.DEPS_VERSION_MAP["/ui/quickcard/js/quickcard.js"]?SMRF.load(["/ui/quickcard/js/quickcard.js"],function(){window.Quickcard.QuickcardInternal=a}):window.Quickcard={};(function(){var c=document.getElementById("ui5QC");return c&&"true"==c.getAttribute("content")&&jQuery&&
jQuery.sap})()||SMRF.load(["/ui/sfgrp/css/qcCommon.css"]);a.factory=function(c){return new a(b,c)};a.newInstance=function(c){return new a(b,c)};juic.extend(a,juic.Component,{useNameAnchor:!0,_fixPoint:{origin:{vertical:"top",horizontal:"left"},menu:{vertical:"top",horizontal:"right"},offset:{vertical:1,horizontal:-1}},_init:function(c){var b;c&&c.externalQC&&(c.openNameLinkInNewWindow=!0);this._configs=c;juic.set(this,c);this.userId=c.userId;this.personGuid=c.personGuid;this.personId=c.personId;this._useLegacyQuickcard=
"true"==c.useLegacyQuickcard||1==c.useLegacyQuickcard;0==this.personId&&(this.personId=null);b=juic.$("quickcard.personBased");var a=!1;this._useLegacyQuickcard||(a=b&&"true"==b.content,!a&&window.pageHeaderJsonData&&(a=window.pageHeaderJsonData.quickcardPersonBased));b=!!this.personId||a;this._personInfoModel=c.personInfoModel;this._async=!this._personInfoModel;this._itemIndex=c.itemIndex;this._setShowOrgChart(c.showOrgChart);this._setShowActionsLinks(c.showActionLinks);this._setShowPhoto(c.showPhoto);
this._setAutoFocus(c.autoFocus);this._setRefocusId(c.refocusId);this.setDAO();if(b){var f=this;this._personInfo=new QuickcardPersonInfoWithEmployment({showOrgChart:this._getShowOrgChart(),showActionLinks:this._getShowActionLinks(),showPhoto:this._getShowPhoto(),miscConfigs:this._configs,createDAO:function(){return f.createDAO()}});this._personInfo.addEventListener("popupAction",this,"_callbackForPopupAction");this._personInfo.addEventListener("quickcardActionClicked",this,"_quickcardActionClicked")}else this._personInfo=
new QuickcardPersonInfo(this._getShowOrgChart(),this._getShowActionLinks(),this._getShowPhoto(),this._configs),this._getShowActionLinks()&&this._personInfo.addEventListener("showActionlinks",this,"_showActionsLinks");this._personInfo.addEventListener("changeDimensions",this,"_handleChangedDimensions");this.getDAO().addEventListener("personInfoAvailable",this,"_setPersonInfo");this._isPersonInfoAvailable=!1;if(this._async)if(this._idType=this.personId?"PERSON_ID":this.personGuid?"PERSON_GUID":"USER_SYS_ID",
"USER_SYS_ID"!=this._idType||a||(this._idType=null),null!=this._idType){var g;switch(this._idType){case "USER_SYS_ID":g=this.userId;break;case "PERSON_ID":g=this.personId;break;case "PERSON_GUID":g=this.personGuid}this._getPersonInfoByType(g,this._idType)}else this.getDAO().getUserInfo(this.userId);else this.getDAO().dispatch("personInfoAvailable",this._personInfoModel);this._isLearningExternalQuickcard()||(this._focusLoop=new SFFocusLoop(this.id),this._focusMarkers=this._focusLoop.getMarkers());
this._clickHandlerRegistered=!1},_getPersonInfoByType:function(c,b){this.getDAO().getPersonInfoWithId(c,b,this._configs.fromHeader)},_isLearningExternalQuickcard:function(){if(window.location.hash)for(var c=window.location.hash.split("\x26"),b=0;b<c.length;b++){var a=c[b].split("\x3d");if("callbackType"==a[0])return"learning"==a[1]}return!1},_setPersonInfo:function(c){this._personInfo.setPersonInfo(c);this._userInfo=c;this._isPersonInfoAvailable=!0;this._registerEventAndHandlePosition();this._getAutoFocus()?
this.setFocus():this._a11yAnnounce();this._handleChangedDimensions(c);this.dispatch("personInfoLoaded")},_registerEventAndHandlePosition:function(){this._isPersonInfoAvailable&&juic.$(this.getReferenceId())&&(this._registerClickHandlers(),juic.$(this._originId)&&this._positionPoint&&SFPositionManager.moveTo(this,this._positionPoint,this._originId,!0))},_registerClickHandlers:function(){this._clickHandlerRegistered||(SFDOMEvent.addListener(window.document,"mousedown",this._mousedownHandler,this),SFDOMEvent.addListener(window.document,
"click",this._clickHandler,this),SFDOMEvent.addListener(window.document,"touchend",this._touchendHandler,this),SFDOMEvent.addListener(window.document,"keydown",this._keydownHandler,this),this._clickHandlerRegistered=!0)},getDAO:function(){return this._model},setDAO:function(c){c?this._model=c:this.setDAO(this.createDAO())},createDAO:function(){return new QuickcardDAO},show:function(c,b,a){this._usingPositionManager=!0;if(this._configs.movePos){this._configs.movePos.horizontal+=384;var d={origin:{vertical:"top",
horizontal:"left"},menu:{vertical:"top",horizontal:"right"},offset:this._configs.movePos};SFPositionManager.show(this,c,d,!0,!1);this._addQuickCardPositionInfo(c,d)}else SFPositionManager.show(this,c,this._fixPoint,!0,!1),this._addQuickCardPositionInfo(c,this._fixPoint);"boolean"==typeof b&&this._setAutoFocus(b);void 0!=a&&(this._refocusId=a)},_addQuickCardPositionInfo:function(c,b){juic.assert(!c||juic.$(c),"[QuickcardInternal] originId must resolve to an actual element when specified.");this._originId=
c;this._positionPoint=b},_mousedownHandler:function(c){this._configs.hideCloseIcon||!this._isClickedOnAnchors(c)&&this._isClickOutsideOfMenu(c)||(juic.$(this.id+"_closeAction").style.display="",this._stopAutoHide=!0)},_clickHandler:function(c){this._configs.hideCloseIcon||(!this._isClickedOnAnchors(c)&&this._isClickOutsideOfMenu(c)?(this._stopAutoHide=!1,this.hide()):c.target.id!=this.id+"_closeAction"||this._bCloseKeyAction||this._onClose())},_touchendHandler:function(c){this._clickHandler(c)},_keydownHandler:function(c){27==
c.keyCode?(this._stopAutoHide=!1,this.hide(),c.stopPropagation()):c.keyCode===SFDOMEvent.KEY_CODE.RETURN&&c.target.id==this.id+"_closeAction"&&(this._bCloseKeyAction=!0,c.stopPropagation())},_keyupHandler:function(c){c.keyCode===SFDOMEvent.KEY_CODE.RETURN&&c.target.id==this.id+"_closeAction"&&(this._bCloseKeyAction=!1,this._onClose(),c.stopPropagation())},_adjustIframeHeight:function(c){Util.browserInfo.ie&&(c=juic.$(this.id))&&this.dispatch("changeDimensions",{height:c.offsetHeight})},hide:function(c){if(!this._stopAutoHide||
!0===c)if(this._focused=!1,this.dispatch("hide"),this.dispatch("targetCleared"),!1!==this._configs.autoCleanup?this.cleanup():this._cleanupListeners(),this._setRefocusOnHide(),8==Util.ieVersion()&&!Util.quirksMode()&&window.PIE){var b=document.createElement("div");b.innerHTML="x";b.style.visibility="hidden";b.style.height="1px";document.body.insertBefore(b,document.body.lastChild);window.setTimeout(function(){document.body.removeChild(b)},1)}},_setRefocusOnHide:function(){var c=this._getRefocusId();
c&&SFDom.setFocus(c,!0)},_isClickOutsideOfMenu:function(c){c=SFDOMEvent.getTarget(c||window.event);return!(this.id==c.id||SFDom.isAncestor(this.id,c))},_isClickedOnAnchors:function(c){c=SFDOMEvent.getTarget(c);return c.id&&0==c.id.indexOf(this.id)},_getShowOrgChart:function(){return this._configs.showOrgChart},_setShowOrgChart:function(c){this._configs.showOrgChart="undefined"==typeof c?!0:c},_getShowActionLinks:function(){return this._configs.showActionLinks},_setShowActionsLinks:function(c){this._configs.showActionLinks=
"undefined"==typeof c?!0:c},_getShowPhoto:function(){return this._configs.showPhoto},_setShowPhoto:function(c){"undefined"==typeof c&&(c=juic.$("autocomplete.enablePhotoForActionSearchAndQuickcard"),c=!c||"false"!=c.content);this._configs.showPhoto=c},_showActionsLinks:function(c){this._actionLinks=new QuickcardActionContainer(this._userInfo,this._configs);this._configs.externalQC&&(this._actionLinks.setExternalQuickcard(!0),this._actionLinks.addEventListener("popupAction",this,"_callbackForPopupAction"));
this._actionLinks.addEventListener("quickcardActionClicked",this,"_quickcardActionClicked");this._model.addEventListener("actionLinksTAAvailable",this,"setActionLinks");this._model.addEventListener("actionLinksGOAvailable",this,"setGoLinks");this._model.getActionLinks(this.userId);var b=this._personInfo.id+"_actionLinks";juic.$(b).style.display="block";this._actionLinks.render(b);this._handleChangedDimensions(c)},_callbackForPopupAction:function(c){this._configs.externalQC&&this._configs.callbackForPopupAction&&
this._configs.callbackForPopupAction(c)},_quickcardActionClicked:function(c){this._onClose()},setActionLinks:function(c){this._actionLinks&&(this._actionLinks.setActionLinks(c),this._handleChangedDimensions(c))},setGoLinks:function(c){this._actionLinks&&(this._actionLinks.setGoLinks(c),this._handleChangedDimensions(c))},_handleChangedDimensions:function(c){"number"==typeof this.timeoutID&&(window.clearTimeout(this.timeoutID),delete this.timeoutID);this._configs.externalQC&&this._configs.callback&&
(this._updateLinksToOpenOnParent(c),this.timeoutID=window.setTimeout(this._configs.callback,100));this._adjustIframeHeight(c);this._adjustMaxHeight()||this._onDimensionsChanged()},_postRender:function(){this._adjustMaxHeight();this._registerEventAndHandlePosition();this._a11yAnnounce()},_adjustMaxHeight:function(){if(this._configs.externalQC)return!1;var c=juic.$(this.id);if(c){var b=SFDom.getViewportHeight(),a=c.offsetHeight;SFDom.updateStyle(c,{maxHeight:b+"px",overflow:c.scrollHeight>b?"auto":
"hidden"});if(c.offsetHeight!=a)return this._onDimensionsChanged(),!0}return!1},_onDimensionsChanged:function(){this.dispatch("changeDimensions");if(this._usingPositionManager){var c=SFDom.getViewportRegion(),b=SFDom.getRegion(this.id),a=Math.min(0,b.top-c.top),c=Math.min(0,c.bottom-b.bottom),a=c<a?c:-a;0!=a&&(c=(c=juic.$(this.id))&&c.parentNode)&&(b=SFDom.getStyle(c,"top"))&&(b=parseInt(b)+a,isNaN(b)||SFDom.setStyle(c,"top",b+"px"))}},_updateLinksToOpenOnParent:function(c){c=juic.$(this.id).getElementsByTagName("a");
for(var b=0,a=c.length;b<a;b++){var f=c[b],g=f.getAttribute("href");f.getAttribute("target")||!g||0==g.indexOf("javascript:")||f.getAttribute("onclick")||f.setAttribute("target","_top")}},renderHtml:function(c){var b=this._focusMarkers;b&&c.push(b[0]);c.push('\x3cdiv id\x3d"',this.id,'" role\x3d"dialog" class\x3d"qcWrapper globalRoundedCorners ',this.cssClass?this.cssClass:"",this._getShowPhoto()?" qcWithPhoto":" qcWithoutPhoto",'"',' onmouseover\x3d"',this.fireCode("_handleMouseEvents","mouseOverQC",
{userId:this.userId}),'"',' onmouseout\x3d"',this.fireCode("_handleMouseEvents","mouseOutQC",{itemIndex:this._itemIndex,showState:!1}),'"\x3e\x3cdiv class\x3d"globalRoundedCorners qcBackground"\x3e');this.renderHeader(c);this.renderTop(c);this.renderBody(c);c.push("\x3c/div\x3e\x3c/div\x3e");b&&c.push(b[1]);c.addAfterRenderListener(this,"_postRender")},_handleMouseEvents:function(c,b){var a=!1;"mouseOutQC"===c&&(a=!0);if(a){if(!this._popuptimer){var d=this;this._popuptimer=setTimeout(function(){d.dispatch(c,
b)},300)}}else this._popuptimer&&clearTimeout(this._popuptimer),this._popuptimer=null,this.dispatch(c,b)},renderHeader:function(b){if(this._configs.headerStyle){var c="";if(window.AccessibilityPrefs&&AccessibilityPrefs.isColorVisionEnabled()){var a=AccessibilityPrefs.getColorVisionType();a&&(c="_"+a.toLowerCase())}a=this._configs.headerText;b.push('\x3cdiv class\x3d"globalRoundedCorners qcHeader ',this._configs.headerStyle+"QCHeader"+c,'"\x3e');b.push('\x3cspan id\x3d"',this.id,'_headerTitle" aria-label\x3d"',
MSGS.get("COMMON_QUICK_CARD_WITH_NAME",a),'" tabIndex\x3d"0"\x3e',a,"\x3c/span\x3e");b.push("\x3c/div\x3e")}},renderTop:function(b){this._configs.supplementalTop&&(b.push('\x3cdiv id\x3d"',this.id,'_TopContainer" class\x3d"qcTopContainer"\x3e'),b.push(this._configs.supplementalTop),b.push("\x3c/div\x3e"),b.push('\x3cdiv class\x3d"QCSeperator" role\x3d"separator"\x3e\x26nbsp;\x3c/div\x3e'))},renderBody:function(b){b.push('\x3ca onfocus\x3d"',this.fireCode("_onItemFocusedA11y"),'" id\x3d"',this._getA11yLabelId(),
'"');b.push(' name\x3d"',juic.escapeHTML(this._getAnchorName()),'" tabindex\x3d"-1" class\x3d"hiddenAriaContent"\x3e\x3c/a\x3e');b.push('\x3cdiv id\x3d"',this.getReferenceId(),'_ariaLiveAnnounce" aria-live\x3d"assertive" style\x3d"display: none;"\x3e\x3c/div\x3e');b.push(this._personInfo);this._configs.hideCloseIcon||b.push("\x3ca",this._configs.showCloseIconByDefault?" ":' style\x3d"display: none" ',' id\x3d"',this.id,'_closeAction" href\x3d"javascript:void(0);" title\x3d"',MSGS.COMMON_Close,'" ',
'onkeydown\x3d"',this.fireCode("_keydownHandler"),'" onkeyup\x3d"',this.fireCode("_keyupHandler"),'" ','onclick\x3d"',this.fireCode("_clickHandler"),' return false;" class\x3d"QCClose globalIconFont1Support globalIconFont1" \x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x26nbsp;\x3c/a\x3e')},_a11yAnnounce:function(){null!=this._a11yAnnounceTimeout&&clearTimeout(this._a11yAnnounceTimeout);var b=juic.$(this.getReferenceId()+"_ariaLiveAnnounce");if(b){var a=this._getA11yAnnouncement();
b.innerHTML=juic.escapeHTML(a);if(a){juic.Logger.info("Announcing: "+a);var e=this;this._a11yAnnounceTimeout=setTimeout(function(){b.innerHTML="";e._a11yAnnounceTimeout=null},1E3)}}},_getA11yAnnouncement:function(){if(this._isPersonInfoAvailable){var b=this._configs.a11yAnnouncements,a=this._getEmployeeName();if(b){var e=this._focused?"focused":"available";return(b=b&&b[e])&&sfMessageFormat.format(b,a)}return MSGS.get("COMMON_QUICK_CARD_WITH_NAME",a)}return""},_getEmployeeName:function(){return this._userInfo&&
this._userInfo.fullName},_getA11yLabelId:function(){return juic.escapeHTML(this.userId)+"_QuickCard"},_randomString:function(){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),a="",e=0;10>e;e++)a+=b[Math.floor(Math.random()*b.length)];return a},_onClose:function(){this.dispatch("hide",{userId:this.userId});this._setRefocusOnHide();this._stopAutoHide=!1;this.hide()},_onItemFocusedA11y:function(b){this._stopAutoHide=!0;b=juic.$(this.id+"_closeAction");this._configs.hideCloseIcon||
Util.show(b);var c=this;setTimeout(function(){juic.$(c.id)&&(c._focusLoop.setFocus(),c._focused=!0,c._a11yAnnounce())},0)},_setRefocusId:function(b){this._refocusId=b},_getRefocusId:function(){return this._refocusId},_setAutoFocus:function(b){this._autoFocus=!!b},_getAutoFocus:function(){return!!this._autoFocus},setFocus:function(b){var c=this;setTimeout(function(){c.useNameAnchor&&c.isDialogVisible()&&!b&&0>(location.hash||"").indexOf("/")?location.hash="#"+c._getAnchorName():juic.$(c.id)&&(c._focused=
!0,c._focusLoop.setFocus(b),c._onItemFocusedA11y())},1)},isDialogVisible:function(){var b=juic.$(this.id);return b&&SFDom.isDisplayed(b)},_getAnchorName:function(b,a){var c=this._anchorName;if(!c){var d=this.nameAnchorPrefix,g=b||Util.createIdentifier(this._randomString()),h=this.nameAnchorSeparator;null==d&&(d="qc\x3d");null==h&&(h="\x26");if(window.JUIC_HASH_PREFIX)c=JUIC_HASH_PREFIX+h+d+g;else{var l,k,m;l=h.length;c=a;null==c&&(c=location.hash||"");c&&(c=c.substring(1));if(d&&c){k=c.lastIndexOf(d);
if(0==k||0<k&&(!h||c.substring(k-l,k)==h))m=h?c.indexOf(h,k+1):-1,c=c.substring(0,k)+(0>m?"":c.substring(m+l));c&&h&&c.substring(c.length-l)!=h&&(c+=h)}c=d?c+(d+g):g}this._anchorName=c}return c},_cleanupListeners:function(){this._clickHandlerRegistered&&(SFDOMEvent.removeListener(window.document,"mousedown",this._mousedownHandler,this),SFDOMEvent.removeListener(window.document,"click",this._clickHandler,this),SFDOMEvent.removeListener(window.document,"touchend",this._touchendHandler,this),SFDOMEvent.removeListener(window.document,
"keydown",this._keydownHandler,this),this._clickHandlerRegistered=!1)},cleanup:function(){this._cleanupListeners();this._personInfo.cleanup();this._actionLinks&&this._actionLinks.cleanup();this.unregister()}})})();function QuickcardDAO(){}
QuickcardDAO.prototype=function(){var a=AjaxService.getMBeanInstance("quickcardController");return set(new juic.EventTarget,{getController:function(){a||(a=AjaxService.getMBeanInstance("quickcardController"));return a},getPersonInfoWithId:function(b,c,a){var d=this;a=a?"getPersonInfoWithIdFromHeader":"getPersonInfoWithId";d.getController()[a](b,c,{callback:function(b){d.dispatch("personInfoAvailable",b)}})},getUserInfo:function(b){var c=this;c.getController().getPersonInfo(b,{callback:function(b){c.dispatch("personInfoAvailable",
b)}})},getActionLinks:function(b){var c=this,a={callback:function(b){c.dispatch("actionLinksTAAvailable",{linkList:b})}};c.getController().getActionList(b,null,a);c=this;a={callback:function(b){c.dispatch("actionLinksGOAvailable",{linkList:b})}};c.getController().getGoToList(b,a)}})}();function QuickcardAddNotes(a){this.register();this.init(a)}
QuickcardAddNotes.prototype=function(){return set(new juic.Component,{init:function(a){this._DAO=new QuickcardNoteDAO;this._DAO.addEventListener("userBadgeSaveSuccess",this,"_hideDialog");this._QuickcardAddNoteView=new QuickcardAddNoteView(a);this._QuickcardAddNoteView.addEventListener("valueAvailable",this,"_handleUserValue");this._badgeButtons=[{label:MSGS.EMPFILE_HRIS_DIRTY_CANCEL,eventName:"hide",active:!1},{label:MSGS.COMMON_QUICKCARD_ADD_NOTE,eventName:"yesSave",active:!0}];this._dialog=new SFDialogBox(MSGS.COMMON_QUICKCARD_ADD_NOTE,
this._QuickcardAddNoteView,this._badgeButtons,460,200,!1,!1);this._dialog.disableButton(1);this._dialog.addEventListener("action",this,"_addNote");this.setUserId(a.userId)},_handleUserValue:function(a){a.isFieldEmpty?this._dialog.disableButton(1):this._dialog.enableButton(1)},_hideDialog:function(){this._dialog.dispatch("hide")},_addNote:function(a){"yesSave"==a.actionCommand&&this._DAO.addNote(this._userId,this._QuickcardAddNoteView.getNotesData())},setUserId:function(a){this._userId=a;this._QuickcardAddNoteView.setUserId(a)},
show:function(a){this._dialog.showDialog(!0,a)},handleEvent:function(a){}})}();QuickcardAddNotes.openActionQuickCard=function(a,b){(new QuickcardAddNotes({userId:a.userId,fullName:a.name})).show(b)};function QuickcardAddNoteView(a){this.register();this._init(a)}
QuickcardAddNoteView.prototype=function(){return set(new juic.Component,{_init:function(a){this._userInfo=a;this.setUserId(this._userInfo.userId);this._title=new SFInput("subject","",{captureKeypress:!0,maxLength:200});this._title.setRequired(!0);this._title.addEventListener("change",this,"validate");this._title.addEventListener("action",this,"validate");this._chkMe=new SFCheckBox(!1,"me",MSGS.HOME_MyTeam_Me,"selectMe");this._chkMe.addEventListener("change",this,"validate");this._chkMe.setChecked(!0);
this._chkMe.setEnabled(!1);this._chkSubject=new SFCheckBox(!1,"subject",a.fullName,"selectSubject");this._chkSubject.addEventListener("change",this,"validate");this._chkOthers=new SFCheckBox(!1,"others",MSGS.HOME_MyTeam_Others,"selectOthers");this._chkOthers.addEventListener("change",this,"_handleSelect");this._chkOthers.addEventListener("change",this,"validate");this._otherInput=new HMPAutoCompleteFindMultipleUsers([],{hideUserName:!1,enablePhoto:!0,writable:!0,includeExternalUsers:!1})},_handleSelect:function(a){switch(a.changeCommand){case "selectOthers":a.checked?
juic.$(this.id+"_nameList").style.visibility="visible":juic.$(this.id+"_nameList").style.visibility="hidden"}},cleanup:function(){this._title.cleanup();this._chkMe.cleanup();this._chkSubject.cleanup();this._chkOthers.cleanup();this._otherInput.cleanup();this._super()},setUserId:function(a){this._userId=a},getNotesData:function(){var a=[];this._chkSubject.isChecked()&&a.push(this._userId);if(this._chkOthers.getValue())for(var b=this._otherInput.getValue(),c=0;c<b.length;c++)a.push(b[c].userId);return{title:juic.$(this._title.id).value.trim(),
message:juic.$(this.id+"message").value,recipientUserIds:a.join(",")}},_validate:function(){var a=this;setTimeout(function(){a.validate()},0)},validate:function(){if(!juic.$(this.id+"message"))return!1;var a=this.getNotesData();if(!a.title||0==a.title.trim().length)return this.dispatch("valueAvailable",{isFieldEmpty:!0}),!1;this.dispatch("valueAvailable",{isFieldEmpty:!1});return!0},renderHtml:function(a){a.push('\x3cdiv class\x3d"addNotelabel"\x3e\x3cspan class\x3d"required"\x3e*\x3c/span\x3e\x3clabel for\x3d"',
this._title.id,'"\x3e',MSGS.EMPFILE_EDU_NOTE_TITLE,"\x3c/label\x3e\x3c/div\x3e");a.push('\x3cdiv class\x3d"addNotefield"\x3e',this._title,"\x3c/div\x3e");a.push('\x3cdiv class\x3d"addNotelabel"\x3e\x3clabel for\x3d"',this.id,'message"\x3e',MSGS.HOME_MyTeam_Message,"\x3c/label\x3e\x3c/div\x3e");a.push('\x3cdiv class\x3d"addNotefield"\x3e\x3ctextarea onkeyup\x3d"',this.fireCode("_validate"),'" rows\x3d"5" maxlength\x3d"4000" id\x3d"',this.id,'message"\x3e\x3c/textarea\x3e\x3c/div\x3e');a.push('\x3cdiv class\x3d"addNotevisibleTo"\x3e');
a.push("\x3cspan\x3e",MSGS.HOME_MyTeam_Visible_To,"\x3c/span\x3e");a.push('\x3cspan class\x3d"chk chkMe"\x3e');a.push(this._chkMe);a.push("\x3c/span\x3e");a.push('\x3cspan class\x3d"chk"\x3e');a.push(this._chkSubject);a.push("\x3c/span\x3e");a.push('\x3cspan class\x3d"chk chkOthers"\x3e');a.push(this._chkOthers);a.push("\x3c/span\x3e");a.push("\x3c/div\x3e");a.push('\x3cdiv id\x3d"',this.id,'_nameList" style\x3d"visibility:hidden"\x3e',this._otherInput,"\x3c/div\x3e")}})}();
function QuickcardNoteDAO(){}QuickcardNoteDAO.prototype=function(){var a=AjaxService.getMBeanInstance("quickcardController");return set(new juic.EventTarget,{addNote:function(b,c){if(200<c.title.length)alert(MSGS.get("COMMON_QUICKCARD_ADD_NOTE_TITLE_LIMIT",200));else{var d=this;a.addNote(b,c,{callback:function(b){d.dispatch("userBadgeSaveSuccess")}})}}})}();
function QuickcardPersonInfo(a,b,c,d){this._setShowOrgChartGlobal(a);this._showActionLinks=b;this._showPhoto=c;this._miscConfigs=d?d:{};this._isFullNameClickable=Quickcard.isFullNameClickable(this._miscConfigs);this._userContent='\x3cdiv class\x3d"quickcardBusyIndicatorAnimation quickcardBusyIndicatorAnimStandard"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv role\x3d"status" class\x3d"hiddenAriaContent"\x3e'+MSGS.COMMON_loading+"\x3c/div\x3e\x3c/div\x3e";this._threeLinksContent=
"";this.register()}
(function(){function a(b,c,a,e,f){this.register();this.init(b,c,a,e,f)}juic.extend(QuickcardPersonInfo,juic.Component,{setPersonInfo:function(b){this._setShowOrgChartCurrent(b.useOrgChart);this.getShowOrgChart()&&this._createThreeLinks(b);this._renderUserInfo(b)},getShowOrgChart:function(){var b=this._getShowOrgChartGlobal();b&&(b=this._getShowOrgChartCurrent());return b},_setShowOrgChartGlobal:function(b){this._showOrgChartGlobal=b},_getShowOrgChartGlobal:function(){return!1!==this._showOrgChartGlobal},
_setShowOrgChartCurrent:function(b){this._showOrgChartCurrent=b},_getShowOrgChartCurrent:function(){return!1!==this._showOrgChartCurrent},_createThreeLinks:function(b){this._threeCount=[];this._threeCount.push(new a(b.directReports,"directReport"));this._threeCount.push(new a(b.teamSize,"teamSize"));this._threeCount.push(new a("\x26nbsp","orgChartLink",b.userId,!0,this._miscConfigs.openNameLinkInNewWindow))},renderHtml:function(b){b.push('\x3cdiv class\x3d"personContainer" id\x3d"',this.id,'_userInfoContainer"\x3e',
this._userContent,"\x3c/div\x3e");b.push('\x3cdiv id\x3d"',this.id,'_userthreeLinks" class\x3d"threeLinksContainer',this._showPhoto?"":" noPhoto",'"\x3e',this._threeLinksContent,"\x3c/div\x3e");this._showActionLinks&&b.push('\x3cdiv id\x3d"',this.id,'_actionLinkSeperator" style\x3d"display:none" class\x3d"QCSeperator" role\x3d"separator"\x3e\x26nbsp;\x3c/div\x3e','\x3cdiv id\x3d"',this.id,'_actionLinks" class\x3d"takeActionLinksWrapper"\x3e\x3c/div\x3e');var c=this._threeCount;c&&setTimeout(function(){c.forEach(function(b){b._afterRender()})},
0)},_getUserName:function(b){return!this._miscConfigs.hideUserName&&b.userName?['\x26nbsp;\x3cspan class\x3d"globalHumanistText psdimUserName"\x3e',juic.escapeHTML(MSGS.get("COMMON_PARENTHETICAL_PHRASE",b.userName)),"\x3c/span\x3e"]:""},_renderUserInfo:function(b){var c=juic.createRenderContext();if(this._showPhoto&&b.photoViewable){c.push('\x3cdiv class\x3d"QCProfilePictureWrapper"\x3e');var a=b.photoSrc;a||(a={urlType:SFPhoto.URL_TYPE_EDU,photoAction:"show",photoType:"liveProfile"},b.userIdEncoded&&
this._isEncryptUserIdInURLEnabled()?a.userIdEncoded=b.userIdEncoded:a.userId=b.userId||"");b.photoMod?a.mod=b.photoMod:b.photoId&&b.photoLastModified&&(a.mod=SFPhoto.getPhotoMod(b.photoId,b.photoLastModified));this._photo=new SFPhoto({photoSrc:a,userId:a.userId,fn:b.firstName,mi:b.middleName,ln:b.lastName,fullName:b.fullName},{profile:"PORTRAIT_60_80"});this._isFullNameClickable&&this._photo.addEventListener("click",this,"_handleClickOnImage");c.push(this._photo);c.push("\x3c/div\x3e")}if(b.outOfOffice){var a=
b.outOfOfficeStartDate,e=b.outOfOfficeEndDate,a="string"==typeof a?ISO8601Dateformatter.parse(a):a,e="string"==typeof e?ISO8601Dateformatter.parse(e):e,a=a instanceof Date&&e instanceof Date?dateformatter.format(a)+" - "+dateformatter.format(e):b.outOfOfficeInfo;c.push('\x3cdiv class\x3d"userOutOfOfficeContainer"\x3e');c.push('\x3cdiv class\x3d"userOutOfOffice"\x3e');c.push('\x3cstrong class\x3d"outOfOfficeText outOfOfficeMainText"\x3e',MSGS.COMMON_OUTOFOFFICE,"\x3c/strong\x3e");c.push('\x3cspan class\x3d"outOfOfficeText"\x3e',
a,"\x3c/span\x3e");c.push("\x3c/div\x3e\x3c/div\x3e")}c.push('\x3cdiv class\x3d"userInfoWrapper',b.inactive?" userInfoInactive":"",'"\x3e');b.contingentWorker&&c.push('\x3cspan class\x3d"qcContingentWorker"\x3e',MSGS.COMMON_Contingent_Worker,"\x3c/span\x3e");c.push('\x3cdiv class\x3d"userFullName globalHumanistText"\x3e');this._isFullNameClickable?c.push('\x3ca href\x3d"javascript:void(0)" onclick\x3d"',this.fireCode("_navigateToUser",this._isEncryptUserIdInURLEnabled()?b.userIdEncoded:b.userId),
'return false;" \x3e',juic.escapeHTML(b.fullName),"\x3c/a\x3e",this._getUserName(b),"\x3c/div\x3e"):c.push(juic.escapeHTML(b.fullName),"\x3c/div\x3e");a=b.jobTitle||"";b.inactive&&(a=MSGS.get("COMMON_User_Name_Inactive",a));c.push('\x3cdiv class\x3d"QCUSerInformation"\x3e');b.hasEmploymentDifferentiator?(c.push('\x3cdiv class\x3d"empDiffColumn empDiffText empDiffTextellipsis" \x3e'),a&&c.push('\x3cspan id\x3d"',this.id,"_empDifferText",'" class\x3d"empDiffTextConcat empDiffTextConcatIndicator" title\x3d"',
juic.escapeHTML(a),'"\x3e',juic.escapeHTML(a),"\x3c/span\x3e"),c.push("\x3c/div\x3e")):(a&&c.push('\x3cdiv class\x3d"userJobTitle"\x3e',juic.escapeHTML(a),"\x3c/div\x3e"),c.push('\x3cdiv class\x3d"userLocation"\x3e',juic.escapeHTML(Util.normalizeForLangDir(b.locationName)),"\x3c/div\x3e"));b.resumeLink&&c.push('\x3cdiv class\x3d"userResume"\x3e\x3ca class\x3d"resumeLink" href\x3d"',b.resumeLink,'"\x3e',MSGS.RECRUITING_View_Resume,"\x3c/a\x3e\x3c/div\x3e");b.contactInfo&&(b.contactInfo.businessPhone&&
(c.push('\x3cdiv class\x3d"userPhoneNumber"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),c.push('\x3cspan class\x3d"phoneNumberText"\x3e',juic.escapeHTML(b.contactInfo.businessPhone),"\x3c/span\x3e"),c.push("\x3c/div\x3e")),b.contactInfo.email&&(c.push('\x3ca class\x3d"userEmail" href\x3d"mailto:',juic.escapeHTML(b.contactInfo.email),'" onclick\x3d"Util.invokeMailToURL(this.href); return false;"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),
c.push(juic.escapeHTML(b.contactInfo.email),"\x3c/a\x3e")),b.contactInfo.socialAccount&&(c.push('\x3cdiv class\x3d"userMsnger"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),c.push("\x3cspan\x3e",juic.escapeHTML(b.contactInfo.socialAccount),"\x3c/span\x3e\x3c/div\x3e")));b.managerName&&c.push('\x3cdiv class\x3d"userManager"\x3e',MSGS.get("COMMON_Manager_COLON",'\x3ca href\x3d"javascript:void(0)" aria-label\x3d"'+
MSGS.get("COMMON_Manager_COLON",juic.escapeHTML(b.managerName))+'" onclick\x3d"'+this.fireCode("_navigateToUser",this._isEncryptUserIdInURLEnabled()?b.managerUserIdEncoded:b.managerUserId)+'return false;" \x3e'+juic.escapeHTML(b.managerName)+"\x3c/a\x3e"),"\x3c/div\x3e");b.agencyInfo&&c.push('\x3cdiv class\x3d"userAgency"\x3e',b.agencyInfo,"\x3c/div\x3e");c.push("\x3c/div\x3e\x3c/div\x3e");this._userContent=c.join("");if(c=juic.$(this.id+"_userInfoContainer"))c.innerHTML=this._userContent;c=juic.createRenderContext();
c.push('\x3cdiv class\x3d"QCSeperator" role\x3d"separator"\x3e\x26nbsp;\x3c/div\x3e');c.push('\x3cdiv id\x3d"',this.id,"_threeLinksCounts",'" class\x3d"',this.getShowOrgChart()?"threeLinks globalRoundedCorners globalIconFont1Context":"noOrgChart",'"\x3e',this._threeCount);this._showActionLinks&&b.userId&&c.push('\x3cdiv class\x3d"showMoreWrapper"\x3e\x3ca role\x3d"tab" aria-expanded\x3d"false" id\x3d"',this.id,'_showActionLink" href\x3d"javascript:void(0)" onclick\x3d"',this.fireCode("dispatch","showActionlinks"),
'; return false;" onkeydown\x3d"',this.fireCode("_showActionKeydown"),';" class\x3d"QCshowMore"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e',MSGS.EMPFILE_HRIS_TAKEACTION,"\x3c/a\x3e\x3c/div\x3e");c.push("\x3c/div\x3e");this._threeLinksContent=c.join("");juic.$(this.id+"_userthreeLinks")&&(juic.$(this.id+"_userthreeLinks").innerHTML=this._threeLinksContent)},_handleClickOnImage:function(b){b=b&&b.user;
(b=this._isEncryptUserIdInURLEnabled()?b.userIdEncoded:b.userId)&&this._navigateToUser(b)},_navigateToUser:function(b,a){var c;if(this._miscConfigs.customNameLink)c=this._miscConfigs.customNameLink;else{if(!Quickcard.isEmployeeFileModuleAccessible()){alert(MSGS.COMMON_QUICKCARD_NO_DATA_PERMISSION);return}c="/sf/liveprofile?"+(this._isEncryptUserIdInURLEnabled()?"selected_user_encoded":"selected_user");c+="\x3d"+encodeURIComponent(b)+"\x26_s.crb\x3d"+window.ajaxSecKey}var e=a&&SFDOMEvent.getTarget(a).getAttribute("target");
this._miscConfigs.openNameLinkInNewWindow?window.open(c,"_blank","innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1"):e?window.open(c,e,"innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1"):window.setLocation(c)},_showActionKeydown:function(b){return 32===b.keyCode?(this.dispatch("showActionlinks"),SFDOMEvent.preventDefault(b),!1):!0},cleanup:function(){this.unregister()},dispatch:function(b){this._super(b);juic.$(this.id+
"_actionLinkSeperator").style.display="";juic.$(this.id+"_showActionLink").style.display="none";juic.$(this.id+"_showActionLink").setAttribute("aria-hidden","true")},_isEncryptUserIdInURLEnabled:function(){return"true"===(juic.$("encryptUserIdInURLEnabled")||{}).content}});a.prototype=function(){return juic.set(new juic.Component,{init:function(b,a,d,e,f){this._number=b;this._orgChartLink=[];this.iconFont=e;this.type=a;this.userId=d;this.newWindow=f||!1},renderHtml:function(b){b.push('\x3cdiv id\x3d"',
this.id,'" class\x3d"linkDiv ',this._type,'"\x3e');"orgChartLink"==this.type&&b.push('\x3ca class\x3d"',this.type,' globalIconFont1Container"',' href\x3d"/sf/orgchart?selected_user\x3d',encodeURIComponent(this.userId),"\x26_s.crb\x3d",window.ajaxSecKey,'"',this.newWindow?' target\x3d"_blank"':"","\x3e");var a="",d="",a="";switch(this.type){case "orgChartLink":baseString=this.iconFont?'\x3cdiv class\x3d"linkCount globalIconFont1Support globalIconFont1" aria-label\x3d"'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+
'"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x26nbsp;\x3c/div\x3e\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+"\x3c/div\x3e":'\x3cdiv class\x3d"linkCount" aria-label\x3d"'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+'"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x26nbsp;\x3c/div\x3e\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+
"\x3c/div\x3e";b.push(baseString);break;case "directReport":1==this._number?(a='\x3cdiv class\x3d"linkCount" aria-label\x3d"'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_HAS_1_DIRECT_REPORT)+'"\x3e1\x3c/div\x3e',d='\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_DIRECT_REPORT)+"\x3c/div\x3e"):(a=juic.escapeHTML(MSGS.get("COMMON_QUICKCARD_HAS_DIRECT_REPORTS",this._number)),a='\x3cdiv class\x3d"linkCount" aria-label\x3d"'+a+'"\x3e'+this._number+"\x3c/div\x3e",
d='\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_DIRECT_REPORTS)+"\x3c/div\x3e");b.push(MSGS.get("COMMON_QUICKCARD_PEOPLE_DIRECT_REPORT_HTML",a,d));break;case "teamSize":a=juic.escapeHTML(MSGS.get("COMMON_QUICKCARD_MANAGES_TEAM_SIZE",this._number)),a='\x3cdiv class\x3d"linkCount" aria-label\x3d"'+a+'"\x3e'+this._number+"\x3c/div\x3e",d='\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_TEAM_SIZE)+"\x3c/div\x3e",
b.push(MSGS.get("COMMON_QUICKCARD_PEOPLE_TEAM_SIZE_HTML",a,d))}"orgChartLink"==this.type&&b.push("\x3c/a\x3e");b.push("\x3c/div\x3e");var e=this;setTimeout(function(){e._afterRender()},0)},_afterRender:function(){var b=juic.$(this.getReferenceId()),a=SFDom.getElementsByClassName("linkDiv","div",b&&SFDom.getParent(b));a.forEach(function(b,c){if(42<b.clientHeight){var d=a[c-1];d&&SFDom.addClass(d,"tallLinkBefore")}(d=SFDom.getElementsByClassName("linkText","div",b)[0])&&d.scrollWidth>d.offsetWidth&&
SFDom.addClass(d,"wideLanguage")})}})}()})();function QuickcardEmploymentInfo(a){this._setShowOrgChartGlobal(a.showOrgChart);this._showActionLinks=a.showActionLinks;var b=a.miscConfigs;this._miscConfigs=b?b:{};this._showPhoto=a.showPhoto;this._isFullNameClickable=Quickcard.isFullNameClickable(this._miscConfigs);this._createDAO=a.createDAO;this.register()}
(function(){function a(b,a,d,e,f){this.register();this.init(b,a,d,e,f)}juic.extend(QuickcardEmploymentInfo,juic.Component,{setEmploymentInfo:function(b){this._cleanupEmployment();this._employmentInfo=b;this._setShowOrgChartCurrent(b.useOrgChart);this.getShowOrgChart()&&this._createThreeLinks(b);this._updateDOM()},cleanup:function(){this._cleanupEmployment();this._super()},_cleanupEmployment:function(){this._actionLinks&&(this._actionLinks.cleanup(),this._actionLinks=null);this._threeLinksContent=
this._userContent=this._employmentInfo=null;if(this._threeCount){for(var b=0;b<this._threeCount.length;b++)this._threeCount[b].cleanup();this._threeCount=null}},getShowOrgChart:function(){var b=this._getShowOrgChartGlobal();b&&(b=this._getShowOrgChartCurrent());return b},_setShowOrgChartGlobal:function(b){this._showOrgChartGlobal=b},_getShowOrgChartGlobal:function(){return!1!==this._showOrgChartGlobal},_setShowOrgChartCurrent:function(b){this._showOrgChartCurrent=b},_getShowOrgChartCurrent:function(){return!1!==
this._showOrgChartCurrent},_createThreeLinks:function(b){this._threeCount=[];this._threeCount.push(new a(b.directReports,"directReport"));this._threeCount.push(new a(b.teamSize,"teamSize"));this._threeCount.push(new a("\x26nbsp","orgChartLink",b.userId,!0,this._miscConfigs.openNameLinkInNewWindow))},renderHtml:function(b){b.push('\x3cdiv class\x3d"personContainer" id\x3d"',this.id,'_userInfoContainer"\x3e',this._getUserContent(),"\x3c/div\x3e");b.push('\x3cdiv id\x3d"',this.id,'_userthreeLinks" class\x3d"threeLinksContainer',
this._showPhoto?"":" noPhoto",'"\x3e',this._getThreeLinksContent(),"\x3c/div\x3e");this._showActionLinks&&(b.push('\x3cdiv id\x3d"',this.id,'_actionLinkSeperator" style\x3d"display:none" class\x3d"QCSeperator" role\x3d"separator"\x3e\x26nbsp;\x3c/div\x3e','\x3cdiv id\x3d"',this.id,'_actionLinks" aria-expanded\x3d"true" class\x3d"takeActionLinksWrapper"'),this._actionLinks?b.push(' style\x3d"display:block"\x3e',this._actionLinks):b.push("\x3e"),b.push("\x3c/div\x3e"))},_updateDOM:function(){var b=
juic.$(this.id+"_userInfoContainer");b&&(b.innerHTML=this._getUserContent());if(b=juic.$(this.id+"_userthreeLinks"))b.innerHTML=this._getThreeLinksContent()},_getUserContent:function(){var b=this._employmentInfo;if(!this._userContent&&b){var a=juic.createRenderContext();if(b.outOfOffice){var d=b.outOfOfficeStartDate,e=b.outOfOfficeEndDate,d="string"==typeof d?ISO8601Dateformatter.parse(d):d,e="string"==typeof e?ISO8601Dateformatter.parse(e):e,d=d instanceof Date&&e instanceof Date?dateformatter.format(d)+
" - "+dateformatter.format(e):b.outOfOfficeInfo;a.push('\x3cdiv class\x3d"userOutOfOfficeContainer"\x3e');a.push('\x3cdiv class\x3d"userOutOfOffice"\x3e');a.push('\x3cstrong class\x3d"outOfOfficeText outOfOfficeMainText"\x3e',MSGS.COMMON_OUTOFOFFICE,"\x3c/strong\x3e");a.push('\x3cspan class\x3d"outOfOfficeText"\x3e',d,"\x3c/span\x3e");a.push("\x3c/div\x3e\x3c/div\x3e")}a.push('\x3cdiv class\x3d"userInfoWrapper',b.inactive?" userInfoInactive":"",'"\x3e');b.contingentWorker&&Quickcard.isActionSearchEnabled()&&
a.push('\x3cspan class\x3d"qcContingentWorker"\x3e',MSGS.COMMON_Contingent_Worker,"\x3c/span\x3e");b.resumeLink&&!this._miscConfigs.hideResumeLink&&a.push('\x3cdiv class\x3d"userResume"\x3e\x3ca class\x3d"resumeLink" href\x3d"',b.resumeLink,'"\x3e',MSGS.RECRUITING_View_Resume,"\x3c/a\x3e\x3c/div\x3e");b.contactInfo&&!this._miscConfigs.hideContactInfo&&(b.contactInfo.businessPhone&&(a.push('\x3cdiv class\x3d"userPhoneNumber"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),
a.push('\x3cspan class\x3d"phoneNumberText"\x3e',juic.escapeHTML(b.contactInfo.businessPhone),"\x3c/span\x3e"),a.push("\x3c/div\x3e")),b.contactInfo.email&&(a.push('\x3ca class\x3d"userEmail" href\x3d"mailto:',juic.escapeHTML(b.contactInfo.email),'" onclick\x3d"Util.invokeMailToURL(this.href); return false;"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),a.push(juic.escapeHTML(b.contactInfo.email),
"\x3c/a\x3e")),b.contactInfo.socialAccount&&(a.push('\x3cdiv class\x3d"userMsnger"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),a.push("\x3cspan\x3e",juic.escapeHTML(b.contactInfo.socialAccount),"\x3c/span\x3e\x3c/div\x3e")));var d="GA"===b.assignmentType,e=b.paused,f="HD"===b.assignmentType;if(d||e||f){a.push('\x3cdiv class\x3d"userAssignment"\x3e');if(d)a.push('\x3cdiv class\x3d"userAssignmentGlobal"\x3e\x3cspan class\x3d"userAssignmentGlobalText"\x3e'),
a.push(MSGS.ORGCHART_Global_Assignment),a.push("\x3c/div\x3e\x3c/span\x3e"),a.push('\x3cdiv class\x3d"userAssignmentGlobalInfo"\x3e\x3cspan class\x3d"userAssignmentGlobalInfoText"\x3e'),b.future?(e=b.startDate,d=MSGS.ORGCHART_Starting_Date_As):(e=b.endDate,d=MSGS.ORGCHART_Until_Date_As),"string"==typeof e&&(e=ISO8601Dateformatter.parse(e)),e instanceof Date&&(e=dateformatter.format(e))&&a.push(sfMessageFormat.format(d,e)),a.push("\x3c/div\x3e\x3c/span\x3e");else if(e)a.push('\x3cdiv class\x3d"userAssignmentPaused"\x3e\x3cspan class\x3d"userAssignmentPausedText"\x3e'),
a.push(MSGS.ORGCHART_Paused_Assignment),a.push("\x3c/div\x3e\x3c/span\x3e");else if(f){a.push('\x3cdiv class\x3d"userAssignmentHD"\x3e\x3cspan class\x3d"userAssignmentHDText"\x3e');a.push(MSGS.HD_TEMPASSIGNMENT_ORG_CHART);a.push("\x3c/div\x3e\x3c/span\x3e");a.push("\x3c/div\x3e");a.push('\x3cdiv class\x3d"userAssignmentHDInfo"\x3e\x3cspan class\x3d"userAssignmentHDInfoText"\x3e');switch(b.hdResponsibilityType){case "FULL_RESPONSIBILITY":a.push(MSGS.HD_TEMPASSIGNMENT_FULL_RESPONSIBILITY+" ");break;
case "ONLY_DELEGATIONS":a.push(MSGS.HD_TEMPASSIGNMENT_ONLY_DELEGATIONS+" ");break;case "INDIVIDUAL_CONTRIBUTOR":a.push(MSGS.HD_TEMPASSIGNMENT_INDIVIDUAL_CONTRIBUTOR+" ")}b.future?(e=b.startDate,d=MSGS.ORGCHART_Starting_Date_As):(e=b.endDate,d=MSGS.ORGCHART_Until_Date_As);"string"==typeof e&&(e=ISO8601Dateformatter.parse(e));e instanceof Date&&(e=dateformatter.format(e))&&a.push(sfMessageFormat.format(d,e));a.push("\x3c/span\x3e")}a.push("\x3c/div\x3e")}a.push('\x3cdiv class\x3d"QCUSerInformation"\x3e');
b.hasEmploymentDifferentiator?(a.push('\x3cdiv class\x3d"empDiffColumn empDiffText empDiffTextellipsis" \x3e'),e=b.jobTitle||"",d=b.primary?e+MSGS.COMMON_Primary_Employment:e,e&&a.push('\x3cspan id\x3d"',this.id,"_empDifferText",'" class\x3d"empDiffTextConcat empDiffTextConcatIndicator" title\x3d"',juic.escapeHTML(d),'"\x3e',juic.escapeHTML(e),"\x3c/span\x3e"),b.primary&&a.push('\x3cdiv class\x3d"userPrimaryTag"\x3e\x3cspan class\x3d"sapIcon empDiffIonPrimaryEmpolyment"\x3e\x26#xe065;\x3c/span\x3e\x3c/div\x3e'),
a.push("\x3c/div\x3e")):(a.push('\x3cdiv class\x3d"userJobContainer"\x3e'),e=b.jobTitle||"",b.inactive&&(e=MSGS.get("COMMON_User_Name_Inactive",e)),e&&a.push('\x3cdiv class\x3d"userJobTitle"\x3e',juic.escapeHTML(e),"\x3c/div\x3e"),b.primary&&a.push('\x3cdiv class\x3d"userPrimaryTag"\x3e\x3cspan class\x3d"sapIcon"\x3e\x26#xe065;\x3c/span\x3e\x3c/div\x3e'),a.push("\x3c/div\x3e"),a.push('\x3cdiv class\x3d"userLocation"\x3e',juic.escapeHTML(Util.normalizeForLangDir(b.locationName)),"\x3c/div\x3e"));b.managerName&&
a.push('\x3cdiv class\x3d"userManager"\x3e',MSGS.get("COMMON_Manager_COLON",'\x3ca href\x3d"javascript:void(0)" aria-label\x3d"'+MSGS.get("COMMON_Manager_COLON",juic.escapeHTML(b.managerName))+'" onclick\x3d"'+this.fireCode("_navigateToUser",this._isEncryptUserIdInURLEnabled()?b.managerUserIdEncoded:b.managerUserId)+'return false;" \x3e'+juic.escapeHTML(b.managerName)+"\x3c/a\x3e"),"\x3c/div\x3e");b.agencyInfo&&a.push('\x3cdiv class\x3d"userAgency"\x3e',b.agencyInfo,"\x3c/div\x3e");a.push("\x3c/div\x3e\x3c/div\x3e");
this._userContent=a.join("")}return this._userContent?this._userContent:'\x3cdiv class\x3d"quickcardBusyIndicatorAnimation quickcardBusyIndicatorAnimStandard"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv role\x3d"status" class\x3d"hiddenAriaContent"\x3e'+MSGS.COMMON_loading+"\x3c/div\x3e\x3c/div\x3e"},_getThreeLinksContent:function(a){a=this._showActionLinks&&this._employmentInfo.userId;if(!this._threeLinksContent&&(this._threeCount||a)){var b=juic.createRenderContext();
b.push('\x3cdiv class\x3d"QCSeperator" role\x3d"separator"\x3e\x26nbsp;\x3c/div\x3e');b.push('\x3cdiv id\x3d"',this.id,"_threeLinksCounts",'" class\x3d"',this.getShowOrgChart()?"threeLinks globalRoundedCorners globalIconFont1Context":"noOrgChart",'"\x3e',this._threeCount);a&&b.push('\x3cdiv class\x3d"showMoreWrapper"\x3e\x3ca role\x3d"button" aria-expanded\x3d"false" id\x3d"',this.id,'_showActionLink" href\x3d"javascript:void(0)" onclick\x3d"',this.fireCode("_showActions"),'; return false;" onkeydown\x3d"',
this.fireCode("_showActionKeydown"),';" class\x3d"QCshowMore"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e',MSGS.EMPFILE_HRIS_TAKEACTION,"\x3c/a\x3e\x3c/div\x3e");b.push("\x3c/div\x3e");this._threeLinksContent=b.join("")}return this._threeLinksContent||""},_navigateToUser:function(a,c){var b;if(this._miscConfigs.customNameLink)b=this._miscConfigs.customNameLink;else{if(!Quickcard.isEmployeeFileModuleAccessible()){alert(MSGS.COMMON_QUICKCARD_NO_DATA_PERMISSION);
return}b="/sf/liveprofile?"+(this._isEncryptUserIdInURLEnabled()?"selected_user_encoded":"selected_user");b+="\x3d"+encodeURIComponent(a)+"\x26_s.crb\x3d"+window.ajaxSecKey}var e=c&&SFDOMEvent.getTarget(c).getAttribute("target");this._miscConfigs.openNameLinkInNewWindow?window.open(b,"_blank","innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1"):e?window.open(b,e,"innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1"):
window.setLocation(b)},_showActionKeydown:function(a){return 32===a.keyCode?(this._showActions(),SFDOMEvent.preventDefault(a),!1):!0},_showActions:function(){this._actionLinks=new QuickcardActionContainer(this._employmentInfo,this._miscConfigs);this._miscConfigs.externalQC&&(this._actionLinks.setExternalQuickcard(!0),this._actionLinks.addEventListener("popupAction",this,"dispatchEvent"));this._actionLinks.addEventListener("quickcardActionClicked",this,"dispatchEvent");var a=this.id+"_actionLinks",
c=juic.$(a);c&&(c.style.display="block",this._actionLinks.render(a));this._dao||(this._dao=this._createDAO(),this._dao.addEventListener("actionLinksTAAvailable",this,"setActionLinks"),this._dao.addEventListener("actionLinksGOAvailable",this,"setGoLinks"));this._dao.getActionLinks(this._employmentInfo.userId);a=juic.$(this.id+"_actionLinkSeperator");c=juic.$(this.id+"_showActionLink");a&&(a.style.display="");c&&(c.style.display="none",c.setAttribute("aria-hidden","true"))},setActionLinks:function(a){this._actionLinks&&
(this._actionLinks.setActionLinks(a),this.dispatch("changeDimensions"))},setGoLinks:function(a){this._actionLinks&&(this._actionLinks.setGoLinks(a),this.dispatch("changeDimensions"))},_isEncryptUserIdInURLEnabled:function(){return"true"===(juic.$("encryptUserIdInURLEnabled")||{}).content}});a.prototype=function(){return juic.set(new juic.Component,{init:function(a,c,d,e,f){this._number=a;this._orgChartLink=[];this.iconFont=e;this.type=c;this.userId=d;this.newWindow=f||!1},renderHtml:function(a){a.push('\x3cdiv id\x3d"',
this.id,'" class\x3d"linkDiv ',this._type,'"\x3e');"orgChartLink"==this.type&&a.push('\x3ca class\x3d"',this.type,' globalIconFont1Container"',' href\x3d"/sf/orgchart?selected_user\x3d',encodeURIComponent(this.userId),"\x26_s.crb\x3d",window.ajaxSecKey,'"',this.newWindow?' target\x3d"_blank"':"","\x3e");var b="",d="",b="";switch(this.type){case "orgChartLink":baseString=this.iconFont?'\x3cdiv class\x3d"linkCount globalIconFont1Support globalIconFont1" aria-label\x3d"'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+
'"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x26nbsp;\x3c/div\x3e\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+"\x3c/div\x3e":'\x3cdiv class\x3d"linkCount" aria-label\x3d"'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+'"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x26nbsp;\x3c/div\x3e\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_ORG_CHART)+
"\x3c/div\x3e";a.push(baseString);break;case "directReport":1==this._number?(b='\x3cdiv class\x3d"linkCount" aria-label\x3d"'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_HAS_1_DIRECT_REPORT)+'"\x3e1\x3c/div\x3e',d='\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_DIRECT_REPORT)+"\x3c/div\x3e"):(b=juic.escapeHTML(MSGS.get("COMMON_QUICKCARD_HAS_DIRECT_REPORTS",this._number)),b='\x3cdiv class\x3d"linkCount" aria-label\x3d"'+b+'"\x3e'+this._number+"\x3c/div\x3e",
d='\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_DIRECT_REPORTS)+"\x3c/div\x3e");a.push(MSGS.get("COMMON_QUICKCARD_PEOPLE_DIRECT_REPORT_HTML",b,d));break;case "teamSize":b=juic.escapeHTML(MSGS.get("COMMON_QUICKCARD_MANAGES_TEAM_SIZE",this._number)),b='\x3cdiv class\x3d"linkCount" aria-label\x3d"'+b+'"\x3e'+this._number+"\x3c/div\x3e",d='\x3cdiv class\x3d"linkText globalHumanistText"\x3e'+juic.escapeHTML(MSGS.COMMON_QUICKCARD_PEOPLE_TEAM_SIZE)+"\x3c/div\x3e",
a.push(MSGS.get("COMMON_QUICKCARD_PEOPLE_TEAM_SIZE_HTML",b,d))}"orgChartLink"==this.type&&a.push("\x3c/a\x3e");a.push("\x3c/div\x3e");var e=this;setTimeout(function(){e._afterRender()},0)},_afterRender:function(){var a=juic.$(this.getReferenceId()),c=SFDom.getElementsByClassName("linkDiv","div",a&&SFDom.getParent(a));c.forEach(function(a,b){if(42<a.clientHeight){var d=c[b-1];d&&SFDom.addClass(d,"tallLinkBefore")}(d=SFDom.getElementsByClassName("linkText","div",a)[0])&&d.scrollWidth>d.offsetWidth&&
SFDom.addClass(d,"wideLanguage")})}})}()})();function QuickcardPersonInfoWithEmployment(a){var b;this._setShowOrgChartGlobal(a.showOrgChart);this._showActionLinks=a.showActionLinks;this._showPhoto=a.showPhoto;b=a.miscConfigs;this._createDAO=a.createDAO;this._miscConfigs=b?b:{};this._isFullNameClickable=Quickcard.isFullNameClickable(this._miscConfigs);this._employments=null;this.register()}
(function(){juic.extend(QuickcardPersonInfoWithEmployment,juic.Component,{setPersonInfo:function(a){this._cleanupPerson();this._personInfo=a;this._setShowOrgChartCurrent(a.useOrgChart);if(this._showPhoto&&a.photoViewable){var b=a.photoSrc;b||(b={urlType:SFPhoto.URL_TYPE_EDU,photoAction:"show",photoType:"liveProfile"},a.userIdEncoded&&this._isEncryptUserIdInURLEnabled()?b.userIdEncoded=a.userIdEncoded:b.userId=a.userId||"");a.photoMod?b.mod=a.photoMod:a.photoId&&a.photoLastModified&&(b.mod=SFPhoto.getPhotoMod(a.photoId,
a.photoLastModified));this._photo=new SFPhoto({photoSrc:b,userId:b.userId,fn:a.firstName,mi:a.middleName,ln:a.lastName,fullName:a.fullName},{profile:"PORTRAIT_60_80"});this._isFullNameClickable&&this._photo.addEventListener("click",this,"_handleClickOnImage")}b=a.employments;if(null!=b){this._employments=[];for(var c=0;c<b.length;c++){var d=new QuickcardEmploymentInfo({showOrgChart:this._showOrgChartGlobal,showActionLinks:this._showActionLinks,miscConfigs:this._miscConfigs,createDAO:this._createDAO,
showPhoto:this._showPhoto});d.addEventListener("changeDimensions",this,"dispatchEvent");d.addEventListener("popupAction",this,"dispatchEvent");d.addEventListener("quickcardActionClicked",this,"dispatchEvent");b[c].hasEmploymentDifferentiator=a.hasEmploymentDifferentiator;d.setEmploymentInfo(b[c]);this._employments.push(d)}}this._updateDOM()},cleanup:function(){this._cleanupPerson();this._super()},_cleanupPerson:function(){this._personInfo=this._employmentsContent=this._userContent=null;var a=this._employments;
if(a){for(var b=0;b<a.length;b++)a[b].cleanup();this._employments=null}this._photo&&(this._photo.cleanup(),this._photo=null)},getShowOrgChart:function(){var a=this._getShowOrgChartGlobal();a&&(a=this._getShowOrgChartCurrent());return a},_setShowOrgChartGlobal:function(a){this._showOrgChartGlobal=a},_getShowOrgChartGlobal:function(){return!1!==this._showOrgChartGlobal},_setShowOrgChartCurrent:function(a){this._showOrgChartCurrent=a},_getShowOrgChartCurrent:function(){return!1!==this._showOrgChartCurrent},
renderHtml:function(a){a.push('\x3cdiv class\x3d"personContainer" id\x3d"',this.id,'_userInfoContainer"\x3e',this._getUserContent(),"\x3c/div\x3e");a.push('\x3cdiv id\x3d"',this.id,'_userEmployments" class\x3d"userEmploymentsContainer"\x3e',this._getEmploymentsContent(),"\x3c/div\x3e");var b=this._employments;b&&setTimeout(function(){b.forEach(function(a){a._threeCount&&a._threeCount.forEach(function(a){a._afterRender()})})},0)},_getUserName:function(a){return!this._miscConfigs.hideUserName&&a.userName?
['\x26nbsp;\x3cspan class\x3d"globalHumanistText psdimUserName"\x3e',juic.escapeHTML(MSGS.get("COMMON_PARENTHETICAL_PHRASE",a.userName)),"\x3c/span\x3e"]:""},_updateDOM:function(){var a=juic.$(this.id+"_userInfoContainer");a&&(a.innerHTML=this._getUserContent());if(a=juic.$(this.id+"_userEmployments"))a.innerHTML=this._getEmploymentsContent()},_getUserContent:function(){var a=this._personInfo;if(!this._userContent&&a){var b=juic.createRenderContext();this._photo&&(b.push('\x3cdiv class\x3d"QCProfilePictureWrapper"\x3e'),
b.push(this._photo),b.push("\x3c/div\x3e"));b.push('\x3cdiv class\x3d"userInfoWrapper"\x3e');this._miscConfigs.hideUserName||(b.push('\x3cdiv class\x3d"userFullName globalHumanistText"\x3e'),this._isFullNameClickable?b.push('\x3ca href\x3d"javascript:void(0)" onclick\x3d"',this.fireCode("_navigateToUser",this._isEncryptUserIdInURLEnabled()?a.userIdEncoded:a.userId),'return false;" \x3e',juic.escapeHTML(a.fullName),"\x3c/a\x3e",this._getUserName(a),"\x3c/div\x3e"):b.push(juic.escapeHTML(a.fullName),
"\x3c/div\x3e"));a.resumeLink&&!this._miscConfigs.hideResumeLink&&b.push('\x3cdiv class\x3d"userResume"\x3e\x3ca class\x3d"resumeLink" href\x3d"',a.resumeLink,'"\x3e',MSGS.RECRUITING_View_Resume,"\x3c/a\x3e\x3c/div\x3e");a.contactInfo&&!this._miscConfigs.hideContactInfo&&(a.contactInfo.businessPhone&&(b.push('\x3cdiv class\x3d"userPhoneNumber"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon"\x3e\x26#xe018;\x3c/span\x3e\x3c/span\x3e'),b.push('\x3cspan class\x3d"phoneNumberText"\x3e',
juic.escapeHTML(a.contactInfo.businessPhone),"\x3c/span\x3e"),b.push("\x3c/div\x3e")),a.contactInfo.email&&(b.push('\x3ca class\x3d"userEmail" href\x3d"mailto:',juic.escapeHTML(a.contactInfo.email),'" onclick\x3d"Util.invokeMailToURL(this.href); return false;"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon"\x3e\x26#xe037;\x3c/span\x3e\x3c/span\x3e'),b.push(juic.escapeHTML(a.contactInfo.email),"\x3c/a\x3e")),a.contactInfo.socialAccount&&(b.push('\x3cdiv class\x3d"userMsnger"\x3e\x3cspan class\x3d"globalIconFont1Support globalIconFont1"\x3e\x3cspan class\x3d"legacyFont1Icon globalIconFont1"\x3e\x3c/span\x3e\x3c/span\x3e'),
b.push("\x3cspan\x3e",juic.escapeHTML(a.contactInfo.socialAccount),"\x3c/span\x3e\x3c/div\x3e")));b.push("\x3c/div\x3e");this._userContent=b.join("")}return this._userContent?this._userContent:'\x3cdiv class\x3d"quickcardBusyIndicatorAnimation quickcardBusyIndicatorAnimStandard"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv role\x3d"status" class\x3d"hiddenAriaContent"\x3e'+MSGS.COMMON_loading+"\x3c/div\x3e\x3c/div\x3e"},_getEmploymentsContent:function(){var a=this._employments;
if(!this._employmentsContent&&a){for(var b=juic.createRenderContext(),c=0;c<a.length;++c)b.push(a[c]);this._employmentsContent=b.join("")}return this._employmentsContent||""},_handleClickOnImage:function(a){a=a&&a.user;(a=this._isEncryptUserIdInURLEnabled()?a.userIdEncoded:a.userId)&&this._navigateToUser(a)},_navigateToUser:function(a,b){var c;if(this._miscConfigs.customNameLink)c=this._miscConfigs.customNameLink;else{if(!Quickcard.isEmployeeFileModuleAccessible()){alert(MSGS.COMMON_QUICKCARD_NO_DATA_PERMISSION);
return}c="/sf/liveprofile?"+(this._isEncryptUserIdInURLEnabled()?"selected_user_encoded":"selected_user");c+="\x3d"+encodeURIComponent(a)+"\x26_s.crb\x3d"+window.ajaxSecKey}var d=b&&SFDOMEvent.getTarget(b).getAttribute("target");this._miscConfigs.openNameLinkInNewWindow?window.open(c,"_blank","innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1"):d?window.open(c,d,"innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1"):
window.setLocation(c)},_isEncryptUserIdInURLEnabled:function(){return"true"===(juic.$("encryptUserIdInURLEnabled")||{}).content}})})();function QuickcardGiveUserBadge(a){this.register();this.init(a)}
QuickcardGiveUserBadge.prototype=function(){return set(new juic.Component,{init:function(a){this.setUser(a);this._DAO=new QuickcardBadgeDAO;this._QuickcardBadgeTemplateList=new QuickcardBadgeTemplateList;this._QuickcardGiveUserBadge=new QuickcardUserBadge;this._QuickcardGiveUserBadge.addEventListener("valueAvailable",this,"_handleUserValue");this._QuickcardBadgeViewSwitcher=new QuickcardBadgeViewSwitcher(this._QuickcardBadgeTemplateList,this._QuickcardGiveUserBadge);this._QuickcardGiveUserBadge.addEventListener("changeBadge",
this._QuickcardBadgeViewSwitcher,"showBadgeTemplateList");this._QuickcardBadgeTemplateList.addEventListener("badgeSelected",this._QuickcardGiveUserBadge,"setBadgeTemplateToUse");this._QuickcardBadgeTemplateList.addEventListener("badgeSelected",this._QuickcardBadgeViewSwitcher,"allowUserToEnterComments");this._QuickcardBadgeTemplateList.addEventListener("badgeRendered",this,"_setpageHeight");this._DAO.addEventListener("userBadgeListAvailable",this,"_showBadgeTemplateList");this._DAO.addEventListener("userBadgeSaveSuccess",
this,"_hideDialog");a=SFDom.hasClass(document.body,"fiori")?484:460;this._dialog=new SFDialogBox(MSGS.COMMON_QUICKCARD_GIVE_BADGE,this._QuickcardBadgeViewSwitcher,[],a,122,!1,!1);this._dialog.addEventListener("action",this,"_addBadge");this._DAO.getBadgeTemplates()},_setpageHeight:function(a){122<a.badgeTempListHeight&&this._dialog.setContentHeight(a.badgeTempListHeight);this._QuickcardBadgeViewSwitcher.setPageHeight(a.badgeTempListHeight)},_handleUserValue:function(a){a.isFieldEmpty?this._dialog.disableButton(1):
this._dialog.enableButton(1)},setUser:function(a){this._userId=a},_hideDialog:function(a){this._dialog.dispatch("hide");this.dispatch("action",{actionCommand:"updateBadgePortlet",badge:a})},_addBadge:function(a){"yesSave"==a.actionCommand&&(this._dialog.disableButton(1),a=this._QuickcardGiveUserBadge.getBadgeTemplateToUse(),a.badgeText.length&&this._DAO.addBadge(this._userId,{badgeId:a.badgeId,badgeText:a.badgeText,badgeImageUrl:a.badgeImageUrl}))},_showBadgeTemplateList:function(a){this._badgeTemplateList||
(this._badgeTemplateList=a.templateList,this._QuickcardBadgeTemplateList.setBadgeTemplateList(this._badgeTemplateList));this._badgeButtons=[{label:MSGS.EMPFILE_HRIS_DIRTY_CANCEL,eventName:"hide",active:!1},{label:MSGS.COMMON_QUICKCARD_GIVE_BADGE,eventName:"yesSave",active:!0}];this._dialog.setNewButtons(this._badgeButtons);this._dialog.disableButton(1)},show:function(){this._dialog.showDialog();this._QuickcardBadgeTemplateList._badgeTemplateHeight&&this._QuickcardBadgeViewSwitcher.setPageHeight(this._QuickcardBadgeTemplateList._badgeTemplateHeight)},
handleEvent:function(a){}})}();QuickcardGiveUserBadge.openActionQuickCard=function(a,b){var c;a&&(c=a.userId||a);(new QuickcardGiveUserBadge(c)).show(!0,b)};function QuickcardBadgeViewSwitcher(a,b){this.register();this.init(a,b)}
QuickcardBadgeViewSwitcher.prototype=function(){return set(new juic.Component,{init:function(a,b){this._badgeTemplate=a;this._giveUserBadge=b;this._pageHeight=122},setPageHeight:function(a){this._pageHeight=a;juic.$(this.id+"_container").style.height=this._pageHeight+"px"},showBadgeTemplateList:function(){SFDom.setStyle(juic.$(this.id),"top",-1*this._pageHeight+"px");SFDom.setStyle(juic.$(this._badgeTemplate.id),"display","");var a=this;SFAnimUtil.animate(juic.$(this.id),{top:0},set({complete:function(){SFDom.setStyle(juic.$(a._giveUserBadge.id),
"display","none");SFDom.setStyle(juic.$(a.id),"top","0");juic.$(a._badgeTemplate.id).getElementsByTagName("a")[0].focus()}}))},allowUserToEnterComments:function(){SFDom.setStyle(juic.$(this.id),"top",0);SFDom.setStyle(juic.$(this._giveUserBadge.id),"display","");var a=this;SFAnimUtil.animate(juic.$(this.id),{top:-1*this._pageHeight},set({complete:function(){SFDom.setStyle(juic.$(a._badgeTemplate.id),"display","none");SFDom.setStyle(juic.$(a.id),"top","0");a._giveUserBadge._badgeComment.setFocus(!0)}}))},
renderHtml:function(a){a.push('\x3cdiv class\x3d"badgeContainer" id\x3d"',this.id,'_container"\x3e\x3cdiv class\x3d"badgeContainerMover" id\x3d"',this.id,'"\x3e',this._badgeTemplate,this._giveUserBadge,"\x3c/div\x3e\x3c/div\x3e")}})}();function QuickcardBadgeTemplateList(){this.register()}
QuickcardBadgeTemplateList.prototype=function(){return set(new juic.Component,{setBadgeTemplateList:function(a){this._serverResponse=a;a=juic.createRenderContext();this._renderBadgeTemplates(a);juic.$(this.id).innerHTML=a.join("");this._badgeTemplateHeight=juic.$(this.id).offsetHeight;a=Util.isFioriEnabled()?235:200;this._badgeTemplateHeight<a&&(this._badgeTemplateHeight=a,juic.$(this.id).style.height=this._badgeTemplateHeight+"px");this.dispatch("badgeRendered",{badgeTempListHeight:this._badgeTemplateHeight})},
_renderBadgeTemplates:function(a){if(this._serverResponse)for(var b=0,c=this._serverResponse.length;b<c;b++){var d=this._serverResponse[b];a.push('\x3ca href\x3d"javascript:void(0)" role\x3d"button" onclick\x3d"',this.fireCode("dispatch","badgeSelected",d),'" class\x3d"userBadgeIcon"\x3e\x3cimg src\x3d"',d.badgeImageUrl,'" width\x3d"45px" /\x3e\x3cbr/\x3e',Util.escapeHTML(d.badgeText),"\x3c/a\x3e")}else a.push('\x3cdiv class\x3d"quickcardBusyIndicatorAnimation quickcardBusyIndicatorAnimStandard"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv role\x3d"status" class\x3d"hiddenAriaContent"\x3e'+
MSGS.COMMON_loading+"\x3c/div\x3e\x3c/div\x3e")},renderHtml:function(a){a.push('\x3cdiv id\x3d"',this.id,'" style\x3d"clear:both;',this._badgeTemplateHeight?"height:"+this._badgeTemplateHeight+'px;"':'"'," \x3e");this._renderBadgeTemplates(a);a.push("\x3c/div\x3e")}})}();
function QuickcardUserBadge(){this.register();this._badgeTemplateToUse={};this._badgeComment=new SFAdvancedTextArea("",{maxLength:300});this._badgeComment.addEventListener("change",this);this._badgeComment.addEventListener("keyup",this)}
QuickcardUserBadge.prototype=function(){return set(new juic.Component,{setBadgeTemplateToUse:function(a){this._badgeTemplateToUse=a;juic.$(this.id+"_badgeImg").src=this._badgeTemplateToUse.badgeImageUrl;juic.$(this.id+"_badgeTitle").innerHTML=Util.escapeHTML(this._badgeTemplateToUse.badgeText)},getBadgeTemplateToUse:function(){this._badgeTemplateToUse.badgeText=this._badgeComment.getValue();return this._badgeTemplateToUse},renderHtml:function(a){a.push('\x3cdiv id\x3d"',this.id,'" class\x3d"giveBadgeBox" style\x3d"clear:both;display:none"\x3e');
a.push('\x3cdiv role\x3d"status" aria-live\x3d"polite" class\x3d"giveBadgeIcon"\x3e');a.push('\x3cimg id\x3d"',this.id,'_badgeImg" class\x3d"giveBadgeIconImg" src\x3d"',this._badgeTemplateToUse.badgeImageUrl,'" /\x3e');a.push('\x3ca href\x3d"javascript:void(0)" role\x3d"button" onclick\x3d"',this.fireCode("dispatch","changeBadge"),'"\x3e',MSGS.EMPFILE_EDU_BADGE_CHANGE,"\x3c/a\x3e");a.push("\x3c/div\x3e");a.push('\x3cdiv class\x3d"giveBadgeText"\x3e');a.push('\x3clabel id\x3d"',this.id,'_badgeTitle" for\x3d"',
this._badgeComment.getReferenceId(),'" style\x3d"display:block"\x3e');a.push('\x3cspan class\x3d"hiddenAriaContent"\x3e',MSGS.COMMON_ENTER_MESSAGE,"\x3c/span\x3e");a.push(Util.escapeHTML(this._badgeTemplateToUse.badgeText),"\x3c/label\x3e");this._badgeComment.renderHtml(a);a.push("\x3c/div\x3e");a.push("\x3c/div\x3e")},handleEvent:function(a){switch(a.type){case "change":case "keyup":0<this._badgeComment.getValue().length?this.dispatch("valueAvailable",{isFieldEmpty:!1}):this.dispatch("valueAvailable",
{isFieldEmpty:!0})}},cleanup:function(){this._badgeComment.cleanup();this._unregister()}})}();function QuickcardBadgeDAO(){}QuickcardBadgeDAO.prototype=function(){var a=AjaxService.getMBeanInstance("quickcardController");return set(new juic.EventTarget,{getBadgeTemplates:function(){var b=this;a.getBadgeTemplates({callback:function(a){b.dispatch("userBadgeListAvailable",{templateList:a})}})},addBadge:function(b,c){var d=this;a.addBadge(b,c,{callback:function(a){d.dispatch("userBadgeSaveSuccess",{portletData:JSON.parse(a)})}})}})}();
function QuickcardActionContainer(a,b){this.register();this._allLinks=[];this._hasActionLinks=!1;this._userInfo=a;this._userId=a.userId;this._externalQuickcard=!1;this._miscConfig=b?b:{}}
(function(){var a='\x3cdiv class\x3d"quickcardBusyIndicatorAnimation quickcardBusyIndicatorAnimStandard"\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv role\x3d"status" class\x3d"hiddenAriaContent"\x3e'+MSGS.COMMON_loading+"\x3c/div\x3e\x3c/div\x3e";juic.extend(QuickcardActionContainer,juic.Component,{renderHtml:function(b){b.push('\x3cdiv id\x3d"',this.id,'_takeAction" class\x3d"takeActionLinks " role\x3d"section" aria-expanded\x3d"false"\x3e',a,"\x3c/div\x3e");b.push('\x3cdiv id\x3d"',
this.id,'_goTo" class\x3d"takeActionLinks" role\x3d"section" aria-expanded\x3d"false"\x3e',a,"\x3c/div\x3e")},_getTakeActionHeaderId:function(){return"qcTakeActionHeader_"+this.id},setActionLinks:function(a){var b=juic.$(this.id+"_takeAction");if(b){var d=juic.createRenderContext();a.linkList||(a.linkList=[]);if(a.linkList&&a.linkList.length){this._hasActionLinks=!0;var e=this._getTakeActionHeaderId();d.push('\x3cdiv id\x3d"',e,'" class\x3d"qcTakeActionHeader"\x3e',MSGS.EMPFILE_HRIS_TAKEACTION,'\x3c/div\x3e\x3col aria-labelledby\x3d"'+
e+'"\x3e',this._createLinks(a.linkList),'\x3c/ol\x3e\x3cdiv class\x3d"clearBoth"\x3e\x3c/div\x3e');b.innerHTML=d.join("");setTimeout(function(){SFDom.setFocus(juic.$(e),0)},250)}else b.parentNode.removeChild(b)}},setExternalQuickcard:function(a){this._externalQuickcard=!!a},setGoLinks:function(a){var b=juic.$(this.id+"_goTo");if(b){var d=juic.createRenderContext();if(a.linkList&&a.linkList.length){var e="qcGoToHeader_"+this.id;d.push('\x3cdiv id\x3d"',e,'" class\x3d"qcGoToHeader"\x3e',MSGS.COMMON_Go_To,
'\x3c/div\x3e\x3col aria-labelledby\x3d"'+e+'"\x3e',this._createLinks(a.linkList),"\x3c/ol\x3e");this._hasActionLinks&&SFDom.addClass(b,"sectionDivider");b.innerHTML=d.join("");var f=this;setTimeout(function(){var a=f._getTakeActionHeaderId();juic.$(a)||(a=e);SFDom.setFocus(juic.$(a),0)},250)}else b.parentNode.removeChild(b)}},_createLinks:function(a){for(var b=[],d=0,e=a.length;d<e;d++){var f=new QuickcardAction(a[d],this._miscConfig.isOpenNewWindow);f.addEventListener("quickcardActionClicked",this,
"_quickcardActionClicked");b.push(f);this._allLinks.push(f);switch(a[d].actionType){case "customizedAction":f.addEventListener("customizedAction",this,"_customizedAction");break;default:case "popup":f.addEventListener("action",this,this._externalQuickcard?"_dispatchPopupAction":"_showPopupAction")}}return b},_quickcardActionClicked:function(a){this.dispatch("quickcardActionClicked")},_dispatchPopupAction:function(a){switch(a.actionCommand){case "addBadge":this.dispatch("popupAction",{actionCommand:a.actionCommand,
userId:this._userId});break;case "addNote":case "showBIPublisherPanel":this.dispatch("popupAction",{actionCommand:a.actionCommand,userInfo:this._userInfo,loggedInUserId:a.target.actionItem.loggedInUserId})}},_showPopupAction:function(a){this._quickcardActionClicked();switch(a.actionCommand){case "addBadge":this._addBadge?this._addBadge.setUser(this._userId):this._addBadge=QuickcardActionContainer.getUserBadgeInstance(this._userId);this._addBadge.show();break;case "addNote":this._addNote&&this._addNote.cleanup();
this._addNote=QuickcardActionContainer.getAddNoteInstance(this._userInfo,a.target.actionItem.loggedInUserId);this._addNote.show();break;case "showBIPublisherPanel":this._printTalentCard&&this._printTalentCard.cleanup();this._printTalentCard=QuickcardActionContainer.getPrintTalentCardInstance(this._userInfo,a.target.actionItem.loggedInUserId);this._printTalentCard.show();break;default:var b=function(){showPP3EditDialog(a.actionCommand,a.target.actionItem,d._userInfo)},d=this;window.PPEdit?b():SMRF.load(["/ui/extlib/jquery/jquery.js",
"/ui/peopleprofile/js/actionSearchPopup.js"],b)}},_customizedAction:function(a){a=a.actionCommand;var b=a.split("\x26")[0];b&&(callbackFunc=window[b])&&callbackFunc(a,this.userId)},cleanup:function(){for(var a=0,c=this._allLinks.length;a<c;a++)this._allLinks[a].cleanup();this.unregister()}});QuickcardActionContainer.getUserBadgeInstance=function(a){return new QuickcardGiveUserBadge(a)};QuickcardActionContainer.getAddNoteInstance=function(a,c){return new QuickcardAddNotes(a,c)};QuickcardActionContainer.getPrintTalentCardInstance=
function(a,c){return new QuickcardPrintTalentCard(a,c)}})();function QuickcardAction(a,b){this.register();this._isOpenNewWindow=b||!1;this._init(a)}
(function(){juic.extend(QuickcardAction,juic.Component,{_listStart:"\x3cli\x3e",_listEND:"\x3c/li\x3e",_init:function(a){this._type="pageRedirect";this.actionItem=a;"popup"==this.actionItem.actionType&&(this._type="inPageAction");"customizedAction"==this.actionItem.actionType&&(this._type="customizedAction");"newWindow"==this.actionItem.actionType&&(this._type="newWindow")},_menuClickAction:function(a){SFDOMEvent.stopEvent(a);this.dispatch("action",{actionCommand:this.actionItem.url})},_newWindow:function(a){SFDOMEvent.stopEvent(a);
window.open(this.actionItem.url,"","innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1")},_customizedAction:function(a){SFDOMEvent.stopEvent(a);this.dispatch("customizedAction",{actionCommand:this.actionItem.url})},setCss:function(a){this._className=a?'class\x3d"'+a+'"':""},disableList:function(){this._listEND=this._listStart=""},dispatchHide:function(a){this.dispatch("quickcardActionClicked")},renderHtml:function(a){var b,c,d="javascript:void(0);";switch(this._type){case "pageRedirect":b=
"dispatchHide";d=this.actionItem.url;if(this._isOpenNewWindow)c="_blank";else{var e=juic.$("quickcard.iframe");e&&"true"==e.getAttribute("content")&&(c="_top")}break;case "newWindow":b="_newWindow";break;case "customizedAction":b="_customizedAction";break;default:b="_menuClickAction"}a.push(this._listStart,"\x3ca ",this._className||"",' href\x3d"',d,'" onclick\x3d"',this.fireCode(b),'"');c&&a.push(' target\x3d"',c,'"');a.push("\x3e",juic.maybeEscapeHTML(this.actionItem.label),"\x3c/a\x3e",this._listEND)},
cleanup:function(){this.unregister()}})})();function QuickcardPrintTalentCard(a){this.register();this.init(a)}
QuickcardPrintTalentCard.prototype=function(){return set(new juic.Component,{init:function(a){this._userInfo=a;this.quickcardPrintTalentCardView=new QuickcardPrintTalentCardView(a);this.quickcardPrintTalentCardView.addEventListener("generateComplete",this,"handleGenerateComplete");this._DAO=new QuickcardPrintTalentCardDAO;this._buttons=[{label:MSGS.COMMON_Close,eventName:"hide",active:!1},{label:MSGS.COMMON_Create,eventName:"yesPrint",active:!0}];this._dialog=new SFDialogBox(MSGS.COMMON_QUICKCARD_VIEW_PRINT_TALENT_CARD,
this.quickcardPrintTalentCardView,this._buttons,350,170,!1,!1);this._dialog.addEventListener("action",this);this.quickcardPrintTalentCardView.setDialog(this._dialog)},handleEvent:function(a){switch(a.type){case "action":"yesPrint"==a.actionCommand&&this._printTalentCard()}},handleGenerateComplete:function(a){this._hideDialog()},_hideDialog:function(){this._dialog.dispatch("hide")},show:function(a){this._dialog.showDialog(!0,a)},_printTalentCard:function(a){this.quickcardPrintTalentCardView.print()},
cleanup:function(){this.quickcardPrintTalentCardView.cleanup();this._dialog.cleanup();this._super()}})}();QuickcardPrintTalentCard.openActionQuickCard=function(a,b){var c;a&&(c=a.userId||a);(new QuickcardPrintTalentCard({userId:c})).show(b)};function QuickcardPrintTalentCardView(a){this.register();this._init(a)}
QuickcardPrintTalentCardView.prototype=function(){return set(new juic.Component,{_init:function(a){this._userInfo=a;this.bip=new SFCheckBox(!1,"BatchPublish","BatchPublish");this.bip.addEventListener("change",this);this.birt=new SFCheckBox(!1,"Birt","Birt");this.birt.addEventListener("change",this);a=[];a.push(new SFSimpleSelectItem("sysXML","xml"));this.dropdownWidget=new SFComboBox("",a,{fixedWidth:!1,isV12Plus:!0});this._DAO=new QuickcardPrintTalentCardDAO;this._DAO.addEventListener("templatesAvailable",
this,"_setTemplateDropdown");this._DAO.getTalentCardTemplates(this._userInfo.userId);a=[];a.push(new SFSimpleSelectItem("PPT","PPT"));a.push(new SFSimpleSelectItem("PPTX","PPTX"));this.formatWdiget=new SFComboBox("",a,{fixedWidth:!1,isV12Plus:!0});this._templateList=[];this._data},_setTemplateDropdown:function(a){this._data=a.data;this._templateList=a.data.templateList;a=[];this._data.showBiPublisherXML&&a.push(new SFSimpleSelectItem("sysXML","xml"));for(var b=0;this._templateList&&b<this._templateList.length;b++){var c=
new SFSimpleSelectItem(this._templateList[b].value,this._templateList[b].label);a.push(c)}this.displayCheckbox();this.dropdownWidget=new SFComboBox("",a,{fixedWidth:!1,isV12Plus:!0});this.dropdownWidget.addEventListener("change",this,"switchOutputFormat");this.dropdownWidget.render(this.id+"_template");a&&0<a.length&&this.dropdownWidget.setValue(a[0]);this.formatWdiget.render(this.id+"_formatDropdown");this.manageTemplates()},print:function(){this.generate()},displayCheckbox:function(){for(var a=
!1,b=!1,c=0;this._templateList&&c<this._templateList.length;c++)!a&&this._templateList[c].description.equalsIgnoreCase("BIPTemplateScorecardType")?(a=!0,this.bip.setChecked(a)):!b&&this._templateList[c].description.equalsIgnoreCase("BIRTTemplate")&&(b=!0,this.birt.setChecked(b))},handleEvent:function(a){switch(a.type){case "change":this.manageTemplates()}},manageTemplates:function(){var a=[];this._data.showBiPublisherXML&&a.push(new SFSimpleSelectItem("sysXML","xml"));for(var b=0;this._templateList&&
b<this._templateList.length;b++)if(this.bip.isChecked()&&this._templateList[b].description.equalsIgnoreCase("BIPTemplateScorecardType")){var c=new SFSimpleSelectItem(this._templateList[b].value,this._templateList[b].label);a.push(c)}else this.birt.isChecked()&&this._templateList[b].description.equalsIgnoreCase("BIRTTemplate")&&(c=new SFSimpleSelectItem(this._templateList[b].value,this._templateList[b].label),a.push(c));(this.bip.isChecked()||this.birt.isChecked()||this._data.showBiPublisherXML)&&
0!=a.length?(b=this.dropdownWidget._createItemProvider(a),this.dropdownWidget.setItemProvider(b),this.dropdownWidget.setValue(a[0].getValue()),"PPT"==this.getOutputFormatFromTemplate(this.dropdownWidget.getValue())?juic.$(this.id+"_format").style.display="block":juic.$(this.id+"_format").style.display="none"):(this.dropdownWidget.setValue(null),this.dropdownWidget.setItemProvider([]),juic.$(this.id+"_format").style.display="none")},getOutputFormatFromTemplate:function(a){if(-1!=a.indexOf("_"))switch(a=
a.split("_")[0],a){case "HTML":case "RTF":case "PPT":case "PPTX":case "DOC":case "DOCX":break;default:a="PDF"}else a="PDF";return a},getOutputFormatFromUserChoice:function(){var a=this.getOutputFormatFromTemplate(this.dropdownWidget.getValue());"PPT"==a&&(a=this.formatWdiget.getValue());return a},switchOutputFormat:function(){var a=this.dropdownWidget.getValue();"PPT"==this.getOutputFormatFromTemplate(a)?juic.$(this.id+"_format").style.display="block":juic.$(this.id+"_format").style.display="none"},
getDialog:function(){return this.dialog},setDialog:function(a){this.dialog=a},showLoading:function(){SFDom.removeClass(juic.$("loading_"+this.id),"hide");juic.$("loading_"+this.id).lastChild.innerHTML=MSGS.COMMON_loading},hideLoading:function(){SFDom.addClass(juic.$("loading_"+this.id),"hide");juic.$("loading_"+this.id).lastChild.innerHTML=""},showError:function(){juic.$("error_"+this.id).innerHTML=MSGS.COMMON_QUICKCARD_CREATE_TALENT_CARD_ERROR},hideError:function(){juic.$("error_"+this.id).innerHTML=
""},generate:function(){this.hideError();var a=encodeURI(this.dropdownWidget.getValue()),b="sysXML"==a,c=encodeURI(this._userInfo.userId);b?(a="/eduBiPublisher?_s.crb\x3d"+ajaxSecKey+"\x26user_id\x3d"+c+"\x26template_name\x3d"+a+"\x26export_xml\x3d"+b,this.launchInIframe(a)):(b=this.getOutputFormatFromUserChoice(),a="/bipscorecard?madr_selected_user\x3d"+c+"\x26bipscs_selected_template\x3d"+a+"\x26bipscs_selected_format\x3d"+b,c=Util.createIdentifier("emp_scorecard_popup"+c),window.open(a,c,"innerWidth\x3d800,width\x3d800,innerHeight\x3d600,height\x3d600,resizable\x3d1,scrollbars\x3d1").focus(),
this.dispatch("generateComplete"))},launchInIframe:function(a){var b=[];b.push('\x3ciframe id\x3d"iframe_',this.id,'"');Util.ieVersion()?b.push('onreadystatechange\x3d"',this.fireCode("readyStateChanged"),'" '):b.push('" onload\x3d"',this.fireCode("iframeLoaded"),'"');b.push(' src\x3d"',a,'"',' frameBorder\x3d"0" \x3e\x3c/iframe\x3e');juic.$("IFrame_"+this.id).innerHTML=b.join("")},readyStateChanged:function(){"complete"!=document.readyState&&"interactive"!=document.readyState||this.iframeLoaded()},
iframeLoaded:function(){try{var a=juic.$("iframe_"+this.id).contentWindow.document.body.innerHTML;a&&-1!=a.indexOf("ERROR")&&this.showError()}catch(b){}},renderHtml:function(a){a.push("\x3ctable\x3e","\x3ctr\x3e","\x3ctd\x3e");this.bip.renderHtml(a);this.birt.renderHtml(a);a.push("\x3c/td\x3e","\x3c/tr\x3e","\x3c/table\x3e");a.push("\x3cdiv class\x3d'bip'\x3e\x3cdiv class\x3d'bifmt'\x3e",MSGS.COMMON_QUICKCARD_CREATE_TALENT_CARD_SELECT_TEMPLATE);a.push("\x3cdiv id\x3d'",this.id,"_template'\x3e\x3c/div\x3e");
a.push("\x3cdiv id\x3d'",this.id,"_format' style\x3d'display:none;'\x3e");a.push("\x3cdiv id\x3d'",this.id,"_formatDESC'\x3e",MSGS.BIPUBLISHER_Output_Format,"\x3c/div\x3e\x3cdiv id\x3d'",this.id,"_formatDropdown'\x3e\x3c/div\x3e\x3c/div\x3e");a.push("\x3cdiv id\x3d'loading_",this.id,"' class\x3d'quickcardBusyIndicatorAnimation quickcardBusyIndicatorAnimStandard hide'\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv role\x3d'status' class\x3d'hiddenAriaContent'\x3e\x3c/div\x3e\x3c/div\x3e");
a.push("\x3cdiv id\x3d'error_",this.id,"'\x3e\x3c/div\x3e\x3c/div\x3e");a.push("\x3c/div\x3e");a.push("\x3cdiv id\x3d'IFrame_",this.id,"' style\x3d'display:none;'\x3e\x3c/div\x3e")},cleanup:function(){this.dropdownWidget.cleanup();this.bip.cleanup();this.birt.cleanup();this._super()}})}();function QuickcardPrintTalentCardDAO(){}
QuickcardPrintTalentCardDAO.prototype=function(){var a=AjaxService.getMBeanInstance("quickcardController");return set(new juic.EventTarget,{getTalentCardTemplates:function(b){var c=this;a.getTalentCardTemplates(b,{callback:function(a){c.dispatch("templatesAvailable",{data:a})}})},printTalentCard:function(b,c){var d=this;a.printTalentCard(b,c,{callback:function(a){d.dispatch("printTemplateSaveSuccess")}})}})}();