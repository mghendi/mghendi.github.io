"undefined"==typeof SFInfoInContext&&(window.SFInfoInContext=function(){function f(a,b){this.register();this._closeButtonEnabled=!0;this._autoHide=this._closeOnEsc=!1;this._focusLoop=new SFFocusLoop(this.id);this._focusMarkers=this._focusLoop.getMarkers();this.setComponent(a);this.setConfig(b)}f.prototype=function(){return juic.set(new juic.Component,{renderHtml:function(a){a.push('\x3cdiv id\x3d"',this.id,'" class\x3d"sfInfoInContext lg_caret_left"\x3e\x3ctable style\x3d"width:auto"\x3e\x3ctr\x3e\x3ctd\x3e');
this._focusMarkers[0].renderHtml(a);a.push('\x3cspan id\x3d"'+this.id+'_caret" class\x3d"beige_caret arrow"\x3e\x26nbsp;\x3c/span\x3e\x3cdiv class\x3d"round beige_dlg"\x3e\x3cspan class\x3d"ct"\x3e\x3cspan class\x3d"cl"\x3e\x26nbsp;\x3c/span\x3e\x3c/span\x3e\x3cdiv class\x3d"bd" style\x3d"padding:1.0em;"\x3e\x3cdiv id\x3d"',this.id,'_content" class\x3d"content" style\x3d"padding:0px;"\x3e');this._component.renderHtml(a);a.push('\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"cb"\x3e\x3cspan class\x3d"cl"\x3e\x26nbsp;\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');
this._closeButtonEnabled&&a.push('\x3cbutton id\x3d"'+this.id+'closeBtn" class\x3d"container-close sapIcon" title\x3d"'+MSGS.COMMON_Close_Dialog+'" onclick\x3d"',this.fireCode("_popBubble"),'"\x3e\x26#xe03e;\x3c/button\x3e');this._focusMarkers[1].renderHtml(a);a.push("\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e");this._resized=!1},setFocusOnElement:function(){SFDom.setFocus(this._component&&this._component.id,!0)},setFocusOnClose:function(){SFDom.setFocus(this.id+"closeBtn",!0)},setConfig:function(a){a&&
(void 0!=a.closeButtonEnabled&&null!=a.closeButtonEnabled&&(this._closeButtonEnabled=a.closeButtonEnabled),void 0!=a.autoHide&&null!=a.autoHide&&(this._autoHide=a.autoHide),a.refocusId&&(this._refocusId=a.refocusId),a.closeOnEsc&&(this._closeOnEsc=a.closeOnEsc))},setComponent:function(a){a&&(this._component=a)},handleEvent:function(a){var b=juic.$(a.positionInfo.overlay.overlayId);"positionFixed"==a.type&&b&&b.lastChild===juic.$(this.id)&&(!this._resized&&juic.$(this.id+"_content")&&0<a.newComponentHeight&&
(juic.$(this.id+"_content").style.height=a.newComponentHeight+"px",juic.$(this.id+"_content").style.overflow="hidden",juic.$(this.id+"_content").style.overflowY="auto",this._resized=!0,a.height=a.newComponentHeight,this.dispatch("changeDimensions",a)),this._positionCaret(a))},_hideBubble:function(){this.dispatch("hide");this._resized=!1;SFDom.setFocus(this._refocusId,!0)},_popBubble:function(){this._hideBubble();this.dispatch("popBubble")},_positionCaret:function(a){var b=a.positionInfo,c=juic.$(b.overlay.overlayId).lastChild;
"left"==b.fixPoint.menu.horizontal?(Util.removeClass(c,"lg_caret_right"),Util.addClass(c,"lg_caret_left")):(Util.removeClass(c,"lg_caret_left"),Util.addClass(c,"lg_caret_right"));var d=parseInt(juic.$(b.fixPoint.origin.originId).offsetHeight/2),e=b.overlay.top+("bottom"==b.fixPoint.menu.vertical?30+d:-30-d);SFOverlayMgr.repositionComponent(b.overlay.overlayId,{left:b.overlay.left,top:0>e?0:e});c=juic.$(c.id+"_caret");d=("top"==b.fixPoint.menu.vertical?b.overlay.top-d:b.overlay.top+b.overlay.height+
d)-e;0>e&&a.newComponentHeight&&"top"==b.fixPoint.menu.vertical&&(d=a.newComponentHeight);c.style.top=d+"px"},unregister:function(){delete this._events;delete juic.Component._registry[this.id]}})}();return juic.set(new juic.EventTarget,{init:function(){this.fixPoint={origin:{vertical:"bottom",horizontal:"right"},menu:{vertical:"top",horizontal:"left"}}},show:function(a,b,c){this.fixPoint={origin:{vertical:"bottom",horizontal:"right"},menu:{vertical:"top",horizontal:"left"}};this._iicBubble?(this.hide(),
this._iicBubble.setComponent(a),this._iicBubble.setConfig(c)):(this._iicBubble=new f(a,c),this._iicBubble.originId=b,this._iicBubble._autoHide&&SFDOMEvent.addListener(window.document,"mouseover",this._outsideMouseMoveHandler,this),this._iicBubble&&this._iicBubble._closeOnEsc&&SFDOMEvent.addListener(window.document,"keydown",this._keypressHandler,this),SFPositionManager.addEventListener("positionFixed",this._iicBubble),SFPositionManager.addEventListener("positionFixed",this),this._iicBubble.addEventListener("popBubble",
this));SFPositionManager.show(this._iicBubble,b,this.fixPoint)},setFocusOnElementGroup:function(){this._iicBubble&&this._iicBubble.setFocusOnElement()},setFocusOnCloseButton:function(){this._iicBubble&&this._iicBubble.setFocusOnClose()},moveTo:function(a,b){SFPositionManager.moveTo(this._iicBubble.id,a,b)},hide:function(){this._iicBubble&&this._iicBubble._hideBubble()},_outsideMouseMoveHandler:function(a){a=a.target||a.srcElement;for(var b=this._iicBubble,c=!1;a&&a!=document.body;){if(a.id==b.id){c=
!0;break}a=a.parentNode}c||(b.hideTimeout&&(clearTimeout(b.hideTimeout),delete b.hideTimeout),b.hideTimeOut=setTimeout(function(){b._hideBubble();b.dispatch("popBubble")},500),b._autoHide&&SFDOMEvent.removeListener(window.document,"mouseover",this._outsideMouseMoveHandler))},_keypressHandler:function(a){var b=SFDOMEvent.getKeyName(a),c=this._iicBubble;switch(b){case "ESCAPE":SFDOMEvent.stopEvent(a),c._hideBubble(),c.dispatch("popBubble")}},handleEvent:function(a){switch(a.type){case "popBubble":this._iicBubble._autoHide&&
SFDOMEvent.removeListener(window.document,"mouseover",this._outsideMouseMoveHandler,this);this._iicBubble&&this._iicBubble._closeOnEsc&&SFDOMEvent.removeListener(window.document,"keydown",this._keypressHandler,this);SFPositionManager.removeEventListener("positionFixed",this._iicBubble);SFPositionManager.removeEventListener("positionFixed",this);this._iicBubble.unregister();delete this._iicBubble;this.hideTimeout&&(clearTimeout(this.hideTimeout),delete this.hideTimeout);this.dispatch("hide");break;
case "positionFixed":this.dispatchEvent(a)}}})}(),SFInfoInContext.init());