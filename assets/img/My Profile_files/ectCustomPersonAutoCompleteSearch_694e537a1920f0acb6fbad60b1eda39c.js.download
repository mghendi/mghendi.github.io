function ECTCustomPersonAutoCompleteSearch(a){this._super.call(this,a);this._prepareForUse();this._writable=a.writable;"string"==typeof this._writable&&(this._writeOnly="writeonly"==this._writable?!0:!1,this._writable=!0);this._readOnlyClass="readonly"+(this._writable?" readComp":" read_only")}
(function(){juic.extend(ECTCustomPersonAutoCompleteSearch,SFPersonAutoComplete,{isWritable:function(){return this._writable},setErrorMsg:function(a){this._hasError=!!a;this._errorMsg=a;this._sfError.setValue(a);this.dispatch("fieldError",{hasError:!!a})},getErrorMsg:function(){return this._errorMsg},setInfoMsg:function(){},renderHtml:function(a){if(this._writable){this._componentType="comboBox"+(this.noTypeAhead?" noSearchIcon":"")+(this._writeOnly?" writeOnly":"");var b=this._getWrapperClassName();
a.push('\x3cspan id \x3d "',this.id,'_fieldFocusMark" class\x3d"',b[0],'"\x3e\x3cspan id \x3d "',this.id,'_fieldborder" class\x3d"',b[1],'"\x3e');this._super.call(this,a);a.push("\x3c/span\x3e\x3c/span\x3e")}this._writeOnly||a.push('\x3cspan id\x3d"',this.id,'_read" class\x3d "',this._readOnlyClass,'" aria-readonly\x3d"',!this._writable,'"\x3e',ECTUtil.readonlyValueSwitch(ECTUtil.dimExternalCode(this.getInputText()),!0),"\x3c/span\x3e")},_drawRoundedCorners:function(a,b,c){this._componentType=b;b=
this._getWrapperClassName();a.push('\x3cspan id \x3d "',this.id,'_fieldFocusMark" class\x3d"',b[0],'"\x3e\x3cspan id \x3d "',this.id,'_fieldborder" class\x3d"',b[1],'"\x3e');this._super.call(this,a);a.push("\x3c/span\x3e\x3c/span\x3e")},_renderWriteHtml:function(a){this._super.call(this,a)},_prepareForUse:function(){this._sfError=new ECTInlineError("",!AccessibilityPrefs.isBlindnessSupportEnabled());this._sfError.addEventListener("clickonError",this,"hideCallout");this._hasError=!1;this._errorMsg=
"";this._callOut=new SFCalloutPopup({originOptions:{direction:"top"},width:250,closeOnClick:!1,closeOnMouseout:!1,role:"tooltip"});this._onChangeParams={};this._callOut.setType("revolutionPanel revolutionCallout ectErrorPopup");this._callOut.setContent(this._sfError)},setOrRemoveFocus:function(a){if(this._hasError&&a)this._callOut.show(this.id+"_fieldFocusMark",{setFocusOnSelf:!1});else{var b=this;this._errorHideTimer=setTimeout(function(){b._callOut.hide()},500)}},hideCallout:function(){this._callOut.hide()},
setFocus:function(a,b){this._super.call(this,a,b);this.setOrRemoveFocus(a)},_updateWrapperClassName:function(){var a=juic.$(this.id+"_fieldFocusMark");a&&(a.className=this._getWrapperClassName().join())},_getWrapperClassName:function(){var a=["writeComp","ectFormFieldFocusMark","comboBox"],b=["ectFormFieldBorder","globalRoundedCorners"];this._componentType&&a.push(this._componentType);this._focusFlag&&a.push("ectFormFieldUserFocus globalRoundedCorners ");this._hasError&&b.push("ectFormFieldHasError");
return[a.join(" "),b.join(" ")]},_removeSelectedItem:function(){this._super.call(this);this.dispatch("change",{newValue:this.getValue()})}})})();