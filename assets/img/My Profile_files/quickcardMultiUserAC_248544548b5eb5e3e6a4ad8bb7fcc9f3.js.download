function HMPAutoCompleteFindMultipleUsers(h,l){this.register();this._init(h,l)}
HMPAutoCompleteFindMultipleUsers.prototype=function(){var h=function(a,b,d){if(a)for(var c=0,f=a.length;c<f;c++)if(d?b.call(d,a[c]):b(a[c]))return c;return null},l=function(a,b,d){return h(a,function(a){if(a){var c=b?a[b]:a;"function"==typeof c&&"function"!=typeof d&&(c=c.apply(a));return c==d}return!1})},m=function(a,b,d){if(a)for(var c=0,f=a.length;c<f&&(d?!b.call(d,a[c],c):!b(a[c],c));++c);},k=function(a,b){var d=[];a&&m(a,function(a){d.push(a[b])});return d};return set(new Component,{_init:function(a,
b){var d={autoComplete:{hideUserName:b.hideUserName,enablePhoto:b.enablePhoto,forceSelection:!0,delimChar:";"},inputSize:50,writable:b.writable};"undefined"!=typeof b.includeExternalUsers&&(d.autoComplete.includeExternalUsers=b.includeExternalUsers);this._autoComplete=new SFAutoComplete("fullname",d);this._autoComplete.addEventListener("action",this);this.setValue(a)},renderHtml:function(a){a.push('\x3cspan id\x3d"',this.id,'"\x3e');this._autoComplete.renderHtml(a);a.push("\x3c/span\x3e")},handleEvent:function(a){switch(a.type){case "action":switch(a.actionCommand){case "change":case "blur":this._synchronizeUsersWithAutoComplete()}}},
_synchronizeUsersWithAutoComplete:function(){var a=this._autoComplete.getSelectedObject(),b=null,d=null;a&&6<a.length&&(b=a[0],d=a[6]);for(var a=juic.$(this._autoComplete.id),c=a.value.split(";"),f=[],h=[],n=!1,k=!1,p=0,m=c.length;p<m;p++){var g=c[p].trim();if(g){var e;b==g?(n=!0,e={userId:d,fullName:b}):(e=this._users[f.length],e&&e.fullName==g||(n=!0,e=this._users,g=l(e,"fullName",g),e=null!=g?e[g]:null));e?(f.push(e),h.push(e.fullName+"; ")):k=!0}}a.value=h.join("");k&&this.dispatch("nameWarning");
if(n||this._users.length!=f.length)this._users=f,this.dispatch("change",{users:this.getValue()})},setValue:function(a){this._users=a;this._autoComplete.setValue({userDisplayValue:k(a,"fullName").join("; ")+(0<a.length?"; ":""),userId:k(a,"userId").join(";")})},getValue:function(){return this._users},setEnabled:function(a){var b=juic.$(this._autoComplete.id);b&&(b.disabled=!a)}})}();