function StringFormat(){}StringFormat.prototype.format=function(b){return b};StringFormat.prototype.parse=function(b){return void 0!==b&&null!==b?b.toString():null};StringFormat.prototype.toLocalString=function(b){return""};StringFormat.prototype.toLocalizedString=function(b){return""};function Validator(b){this.fieldList=[];this.fieldMap={};this.errorClass=b}
Validator.prototype.add=function(b,d,g,k,a){function f(c){function d(a){1==w?/[^ \t\r\n]/.test(f)&&(f=juic.escapeHTML(f),a=f+"\x3cbr/\x3e"+a):a=juic.escapeHTML(f+a,"\x3cbr /\x3e");return a}var a=e.value;if(void 0==a)return null;var f="";1==t&&(t=!1,f=e.title+"\n");if(!/[^ \t\r\n]/.test(a)){if(k)return e.className=l,a=g.toLocalizedString(),c=[,""],a&&(c[0]=a,c[1]=MessageFormat.format(MSGS.ERR_DATA_EXPECTED,c)),c[0]=b,c=MessageFormat.format(MSGS.ERR_DATA_REQUIRED,c),e.title=d(c);e.className=u;e.title!=
m&&(e.title=m);return null}x&&(a=a.replace(/^\s*((\s*[^\s])*)\s*$/,"$1"));/[\u201C\u201D\u2018\u2019\u2013\u2014\u2015\u2026\u00a9\u00ae\u2122\u00bc\u00bd\u00be\u2153\u2154\u215b\u215c\u215d\u215e\u263a\u263b]/.test(a)&&(a=a.replace(/[\u201C\u201D]/g,'"').replace(/[\u2018\u2019]/g,"'").replace(/[\u2013\u2014\u2015]/g,"-").replace(/\u2026/g,"...").replace(/\u00a9/g,"(C)").replace(/\u00ae/g,"(R)").replace(/\u2122/g,"(tm)").replace(/\u00bc/g,"1/4").replace(/\u00bd/g,"1/2").replace(/\u00be/g,"3/4").replace(/\u2153/g,
"1/3").replace(/\u2154/g,"2/3").replace(/\u215b/g,"1/8").replace(/\u215c/g,"3/8").replace(/\u215d/g,"5/8").replace(/\u215e/g,"7/8").replace(/[\u263a\u263b]/g,"\x3d)"));if(r){var h=a;/\r\n/.test(a)||(h=h.replace(/\n/g,"\r\n"));h=h.length;if(h>r)return e.className=l,c=[],c[0]=b,c[1]=h,c[2]=r,c=MessageFormat.format(MSGS.ERR_DATA_TOO_LONG,c),e.title=d(c)}a=g.parse(a);if(null!==a){c||(c=g.format(a),c!=e.value&&(e.value=c));if(null!==n&&void 0!==n&&a<n||null!==p&&void 0!==p&&a>p)return e.className=l,c=
[],c[0]=b,c[1]=g.format(n),c[2]=g.format(p),c=MessageFormat.format(MSGS.ERR_DATA_OUT_OF_RANGE,c),e.title=d(c);e.className=u;e.title!=m&&(e.title=m);return null}e.className=l;a=g.toLocalizedString();c=[,""];a&&(c[0]=a,c[1]=MessageFormat.format(MSGS.ERR_DATA_EXPECTED,c));c[0]=b;c=MessageFormat.format(MSGS.ERR_DATA_FORMAT,c);return e.title=d(c)}function y(){function a(){q?(q=0,h=setTimeout(a,500)):(f(!0),h=0)}h?q=1:(q=0,h=setTimeout(a,500));return!0}function v(){h&&(clearTimeout(h),h=0);f()}var e="string"==
typeof d?document.getElementById(d):d,m=e.title,l,n=a&&a.min,p=a&&a.max,r=a&&a.maxLength,t=a&&a.multiLineTitle,w=a&&a.validateFlag,x=!a||void 0===a.trim||a.trim;d=e.id;l=a&&a.errorClass?a.errorClass:this.errorClass;var u=e.className==l?"":e.className,h=0,q=0;Util&&5.5<=Util.ieVersion(!0)||5.5<=ieVersion()?(chain(e,"onkeyup",y),chain(e,"onblur",v),chain(e,"onchange",v)):(chain(e,"onkeyup",function(){f(!0);return!0}),chain(e,"onfocus",function(){f(!0);return!0}),chain(e,"onchange",function(){f();return!0}),
chain(e,"onblur",function(){f();return!0}));void 0===this.fieldMap[d]&&(this.fieldMap[d]=this.fieldList.length);this.fieldList[this.fieldMap[d]]={id:d,fmt:g,validate:f};f()};
Validator.prototype.validateDate=function(b,d,g,k,a){b="string"==typeof b?document.getElementById(b):b;d="string"==typeof d?document.getElementById(d):d;a=a&&a.errorClass?a.errorClass:this.errorClass;var f=d.className==a?" ":d.className;if(!k)return d.className=f,null;k=b.value;if(!/[^ \t\r\n]/.test(k))return d.className=a,null;/[\u201C\u201D\u2018\u2019\u2013\u2014\u2015\u2026\u00a9\u00ae\u2122\u00bc\u00bd\u00be\u2153\u2154\u215b\u215c\u215d\u215e\u263a\u263b]/.test(k)&&(k=k.replace(/[\u201C\u201D]/g,
'"').replace(/[\u2018\u2019]/g,"'").replace(/[\u2013\u2014\u2015]/g,"-").replace(/\u2026/g,"...").replace(/\u00a9/g,"(C)").replace(/\u00ae/g,"(R)").replace(/\u2122/g,"(tm)").replace(/\u00bc/g,"1/4").replace(/\u00bd/g,"1/2").replace(/\u00be/g,"3/4").replace(/\u2153/g,"1/3").replace(/\u2154/g,"2/3").replace(/\u215b/g,"1/8").replace(/\u215c/g,"3/8").replace(/\u215d/g,"5/8").replace(/\u215e/g,"7/8").replace(/[\u263a\u263b]/g,"\x3d)"));if(null==g.parse(k))return d.className=a,null;d.className=f};
Validator.prototype.flush=function(){for(var b=0;b<this.fieldList.length;)document.getElementById(this.fieldList[b].id)?++b:this.fieldList.splice(b,1);this.fieldMap={};for(b=0;b<this.fieldList.length;++b)this.fieldMap[this.fieldList[b].id]=b};Validator.prototype.validate=function(b,d,g){if(void 0===this.fieldMap[b])return!1;(b=this.fieldList[this.fieldMap[b]].validate())&&(d[d.length]=b);return!!b};
Validator.prototype.validateAll=function(b,d){for(var g=0;g<this.fieldList.length;++g)if(document.getElementById(this.fieldList[g].id)){var k=this.fieldList[g].validate();k&&(b[b.length]=k)}return 0===b.length&&0===d.length};