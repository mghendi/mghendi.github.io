var juic;juic||(juic={});juic.Config=surj.Config;juic.validate=surj.Config.validate;juic.Logger=surj.Logger;juic._idCharacter=":";
juic.isComponentJSLoaded||(juic.dump=function(a){function b(a){return'"'+a.replace(/([\"\\])/g,"\\$1").replace(/\r\n?|\n/g,"\\n")+'"'}switch(typeof a){case "object":if(a)switch(a.constructor){case Array:for(var c=[],d=0;d<a.length;++d)c[d]=juic.dump(a[d]);return"["+c.join()+"]";case Date:return"new Date("+a.getFullYear()+","+a.getMonth()+","+a.getDate()+")";default:c=[];for(d in a)c.push(b(d)+":"+juic.dump(a[d]));return"{"+c.sort().join()+"}"}else return"null";case "unknown":case "undefined":return"undefined";
case "number":return a;case "string":return b(a);case "function":return'"function"';default:return String(a)}},juic.assert=function(a,b){a||alert("Assertion failed: "+b)},juic.noConflict=function(){window.$===juic.$&&(window.$=juic._$,delete juic._$)},juic._$=window.$,juic.$=function(a){return"string"==typeof a?document.getElementById(a):a},juic.set=function(a,b){for(var c in b){var d=a[c],e=b[c];"object"==typeof e&&d?juic.set(d,e):a[c]=e}return a},function(){var a=/xyz/.test(function(){xyz})?/\b_super\b/:
/.*/;juic.extend=function(b,c,d){function e(){}var g=c.prototype;e.prototype=g;var h=new e;a.test(b)&&(h._super=function(){this._super=arguments.callee._super;c.apply(this,arguments);this._super=arguments.callee},h._super._super=g._super);for(var f in d)h[f]=d[f],"function"==typeof h[f]&&"function"==typeof g[f]&&a.test(d[f])&&(h[f]=function(a,b){return function(){var c=this._super;this._super=g[a];var d=b.apply(this,arguments);this._super=c;return d}}(f,h[f]));b.prototype=h;return b}}(),juic.escapeHTML=
function(a,b,c){a||null==a||isNaN(a)||(a=String(a));"string"!=typeof b&&(b="\n");"string"!=typeof c&&(c="");return(a||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/\"/g,"\x26quot;").replace(/\'/g,"\x26#39;").replace(/\n|\r\n?/g,b)||c},juic.escapeHTMLIfNeeded=function(a,b){return b?juic.escapeHTML(a):a},juic.SAFE_XHTML=/^(?:[^<>&"']|(?:&(?:[a-z]{2,}|#\d+|#x[\da-f]+);))*$/i,juic.maybeEscapeHTML=function(a){a||null==a||isNaN(a)||(a=String(a));return!a||
juic.SAFE_XHTML.test(a)?a:juic.escapeHTML(a)},juic.EventTarget=function(a){juic.assert(1>=arguments.length,"Too many arguments to EventTarget");juic.assert("null"==typeof a||"undefined"==typeof a||a.constructor==Array,"eventTypes argument to EventTarget must be an array or null");if(a){var b={};this._allowedEvents&&juic.set(b,this._allowedEvents);for(var c=0,d=a.length;c<d;c++)juic.assert(juic.EventTarget.isValidEventType(a[c]),"Invalid event type name in EventTarget: "+a[c]),b[a[c]]=1;this._allowedEvents=
b}},juic.EventTarget.isValidEventType=function(a){return"string"==typeof a&&!/^on/.test(a)},juic.EventTarget.Event=function(a,b){juic.set(this,b).type=a},juic.EventTarget.prototype=function(){function a(a){var b=[],d;for(d in a._allowedEvents)b.push(d);return b.join(", ")}return{addEventListener:function(b,c,d){juic.assert(juic.EventTarget.isValidEventType(b),"Invalid event type name in addEventListener: "+b);juic.assert(!this._allowedEvents||this._allowedEvents[b],"Event type '"+b+"' (within addEventListener) is not dispatched by this object, valid events are: "+
a(this));juic.assert(c,"handler is null in addEventListener");d?juic.assert(c[d],"Invalid callback in addEventListener, does not exist on handler."):juic.assert(c.handleEvent&&"function"==typeof c.handleEvent,"Event handler does not provide handleEvent function in addEventListener");var e=this._events||(this._events={});(e[b]||(e[b]=[])).push({handler:c,callback:d?d:null})},removeEventListener:function(a,c){var b=this._events,e;if(b&&(e=b[a])){for(var g=e.length;0<=--g;)e[g].handler===c&&e.splice(g,
1);e.length||delete b[a]}},dispatchEvent:function(b){juic.assert(b&&b.constructor==juic.EventTarget.Event,"Attempt to dispatch non-Event: "+b);juic.assert(juic.EventTarget.isValidEventType(b.type),"Invalid event type name in dispatchEvent: "+b.type);juic.assert(!this._allowedEvents||this._allowedEvents[b.type],"Event type '"+b.type+"' (within dispatchEvent) is not dispatched by this object, valid events are: "+a(this));b.target=this;var c=this._events;if(c&&(c=c[b.type])){for(var c=c.slice(0),d,e=
0;e<c.length;++e)try{var g=c[e].handler,h=c[e].callback;if(h)g[h](b);else g.handleEvent(b)}catch(f){d=f,"undefined"!=typeof juic.Logger?juic.Logger.error("Uncaught exception",d):eval("debugger")}if(d)throw d;}},dispatch:function(a,c){this.dispatchEvent(new juic.EventTarget.Event(a,c))}}}(),juic.Component=function(a){juic.EventTarget.call(this,a)},juic.Component.prototype=function(){var a=0;return juic.set(new juic.EventTarget,{getReferenceId:function(){return this.id},registerAutomationName:function(a,
c){return a},render:function(a){juic.render(this,a)},renderHtml:function(a){juic.assert(!1,"ERROR: the subclasses must override renderHtml(): "+a)},register:function(){juic.assert(!this.id||!this.isRegistered(),"Component already registered!");"string"==typeof juic._nextId?(this.id=juic._nextId,delete juic._nextId):this.id=++a+juic._idCharacter;juic.Component._registry[this.id]=this},setId:function(a){delete juic.Component._registry[this.id];juic.Component._registry[this.id=a]=this},unregister:function(){juic.assert(this.isRegistered(),
"Component not registered! "+this.id);delete this._events;delete juic.Component._registry[this.id]},isRegistered:function(){return!!juic.Component._registry[this.id]},cleanup:function(){this.unregister()},setValue:function(a){juic.assert(!1,"ERROR: the subclasses must override setValue(): "+a)},getValue:function(){return null},serializeState:function(){juic.assert(!1,"ERROR: the subclasses must override serializeState(): ")},deserializeState:function(a){juic.assert(!1,"ERROR: the subclasses must override deserializeState(): "+
a)},fireCode:function(a){juic.assert(this.id,"Component not registered (within fireCode)!");juic.assert("function"==typeof this[a],"Not a function (within fireCode): "+a);for(var b='juic.fire("'+this.id+'","'+a+'"',d=1;d<arguments.length;++d)b+=","+juic.dump(arguments[d]);return juic.escapeHTML(b+",event);")}})}(),juic.Component._registry={},juic.render=function(a,b){var c=juic.createRenderContext();a.renderHtml(c);c.renderInto(b)},function(){function a(){this._html=[];this.length=0}juic.createRenderContext=
function(){return new a};juic.addRenderer=function(a,b){if("function"==!typeof b)throw"juic.addRenderer: Invalid handler";c.push({type:a,handler:b})};juic.extend(a,juic.EventTarget,{context:"RenderContext",push:function(){var a,b,g,h,f,k;a=0;for(b=arguments.length;a<b;++a){f=arguments[a];h=!1;for(g=0;!h&&g<c.length;g++)k=c[g],(h=juic.validate(f,k.type))&&k.handler.call(this,this._html,f);h||null==f||"function"!=typeof f.toString||this._html.push(f.toString())}return this.length=this._html.length},
join:function(a){return this._html.join.apply(this._html,arguments)},renderInto:function(a){a="string"===typeof a?juic.$(a):a;juic.assert(a,"[Render] Element/ID passed should be available on the DOM!");a.innerHTML=this.join("");this.dispatch("afterRender");delete this._events},addAfterRenderListener:function(a,b){this.addEventListener("afterRender",a,b)}});var b=0,c=[{type:["boolean","number","string"],handler:function(a,b){a.push(b)}},{type:juic.Component,handler:function(a,b){b.renderHtml(this)}},
{type:juic.Config.arrayType(),handler:function(a,b){this.push.apply(this,b)}},{type:juic.Config.htmlElementType(),handler:function(a,c){var d=b++;this.push('\x3cspan id\x3d"__DOMREPLACE__',d,'" style\x3d"display:none"\x3e\x3c/span\x3e');this.addAfterRenderListener({handleEvent:function(){var a=juic.$("__DOMREPLACE__"+d);a&&a.parentNode.replaceChild(c,a)}})}}]}(),juic._isAncestor=function(a,b){a=juic.$(a);b=juic.$(b);var c=!1;a&&b&&a.nodeType&&b.nodeType&&(a.contains&&a!==b?c=a.contains(b):a.compareDocumentPosition&&
(c=!!(a.compareDocumentPosition(b)&16)));return c},juic._inDoc=function(a,b){var c=!1;a&&a.tagName&&(b=b||a.ownerDocument,c=juic._isAncestor(b.documentElement,a));return c},juic.expose=function(a,b){window.JSTestUtility&&juic.set(a,b)},juic.fire=function(a,b){var c=juic.Component._registry[a];if(c){for(var d=[],e=2;e<arguments.length;++e)d.push(arguments[e]);return c[b].apply(c,d)}"undefined"!=typeof juic.Logger&&juic.Logger.error("Component "+a+" not registered (within fire)")},function(a){"juic.$"==
(a?a.content:"juic.$")&&(window.$=juic.$)}(juic.$("jsDollarSign")),window.assert=juic.assert,window.createRenderContext=juic.createRenderContext,window.dump=juic.dump,window.escapeHTML=juic.escapeHTML,window.escapeHTMLIfNeeded=juic.escapeHTMLIfNeeded,window.extend=juic.extend,window.fire=juic.fire,window.set=juic.set,window.Component=juic.Component,window.EventTarget=juic.EventTarget,juic.isComponentJSLoaded=!0);