function Enum(a){this._array=a;this._ptr=0}Enum.EMPTY_ENUMERATION={hasMoreElements:function(){return!1},nextElement:function(){juic.assert(!1,"No more elements")}};Enum.prototype={hasMoreElements:function(){return this._array&&this._ptr<this._array.length},nextElement:function(){juic.assert(this.hasMoreElements(),"[ArrayEnumeration] No more elements");return this._array[this._ptr++]}};function Stack(){this._items=[]}
Stack.prototype={push:function(a){this._items.push(a);return a},pop:function(){juic.assert(0<this._items.length,"[Stack] No items in stack");return this._items.splice(this._items.length-1,1)[0]},peek:function(){juic.assert(0<this._items.length,"[Stack] No items in stack");return this._items[this._items.length-1]},empty:function(){return 0==this._items.length},size:function(){return this._items.length}};function Queue(){this._size=0}
Queue.prototype={enqueue:function(a){a={object:a};null==this._head?this._head=this._tail=a:this._tail=this._tail.next=a;this._size++},dequeue:function(){juic.assert(this._head,"[Queue] No objects in queue");var a=this._head.object,b=this._head;this._head=this._head.next;null==this._head?this._tail=null:b.next=null;this._size--;return a},requeue:function(a){this._tail&&this._tail.object===a||this.findAndDequeue(a)&&this.enqueue(a)},findAndDequeue:function(a){if(this._head){for(var b=this._head,c=null;b&&
b.object!==a;)c=b,b=b.next;if(b)return c?c.next=b.next:this._head=b.next,this._size--,!0}return!1},firstObject:function(){juic.assert(this._head,"[Queue] No objects in queue");return this._head.object},empty:function(){return null==this._head},size:function(){return this._size}};